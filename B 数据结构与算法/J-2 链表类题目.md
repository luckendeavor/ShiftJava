[TOC]

### é“¾è¡¨é¢˜ç›®

#### åŸºç¡€

##### 1. é“¾è¡¨ç±»é—®é¢˜è§£é¢˜æŠ€å·§

###### (1) ä½¿ç”¨é¢å¤–ç©ºé—´

ä½¿ç”¨**é¢å¤–ç©ºé—´**ï¼ˆå¦‚ **HashMapã€æ•°ç»„**ï¼‰æ¥è¾…åŠ©æ“ä½œã€‚

åœºæ™¯ï¼šå¤åˆ¶é“¾è¡¨çš„å¤åˆ¶ã€åˆ¤æ–­é“¾è¡¨æ˜¯å¦æœ‰ç¯ç­‰ç­‰ã€‚

é¢å¤–ç©ºé—´ä¼šå¢åŠ ç©ºé—´å¤æ‚åº¦ï¼Œè€Œä¸”å¾ˆå¤šé¢˜ O(1) ç©ºé—´å°±è¡Œäº†ï¼Œä¸è¿‡ä½¿ç”¨é¢å¤–ç©ºé—´åœ¨**ç¬”è¯•ä¸­**å¾ˆä¸é”™ã€‚å¿«å•Šï¼é¢è¯•ä¸­ç¬¬ä¸€æ­¥ä¹Ÿå¯ä»¥ç”¨ã€‚

###### (2) å¼•å…¥dummyç»“ç‚¹

å¯¹äº**å¯èƒ½ä¼šæ”¹å˜å¤´ç»“ç‚¹**çš„é¢˜ç›®ï¼Œå¼•å…¥ dummy ç»“ç‚¹å°±æ˜¯**åŸºæ“**ï¼Œæœ€åè¿”å› dummy.next å³å¯ã€‚éå¸¸ niceã€‚å¯ä»¥è¯•ä¸€è¯•ä¸åŠ  dummy ä¸”ä¼šæ”¹å˜å¤´ç»“ç‚¹çš„é‚£ç§æƒ…å†µã€‚

åœºæ™¯ï¼šåˆ é™¤æŸä¸ªç»“ç‚¹ï¼ˆå¯èƒ½æŠŠå¤´ç»“ç‚¹åˆ äº†ï¼‰ã€ä¸¤ä¸¤ä¸€ä¸ªäº¤æ¢ç»“ç‚¹ï¼ˆå¤´ç»“ç‚¹ä¼šè¢«äº¤æ¢å‡ºå»ï¼‰ã€‚

###### (3) å¿«æ…¢æŒ‡é’ˆæˆ–åŒæŒ‡é’ˆ

ç”±äºé“¾è¡¨ä¸åƒæ•°ç»„é‚£æ ·å¯ä»¥ç›´æ¥å¯»å€ï¼Œå› æ­¤å¯ä»¥**å¼•å…¥å¤šä¸ªæŒ‡é’ˆ**ã€‚**å¿«æ…¢æŒ‡é’ˆ**æ˜¯éå¸¸å·§å¦™ä¸”å¸¸è§çš„æŠ€å·§ï¼

åœºæ™¯ï¼šæ‰¾é“¾è¡¨ä¸­é—´ç»“ç‚¹ã€åˆ¤æ–­é“¾è¡¨æ˜¯å¦æœ‰ç¯ã€åˆ é™¤å€’æ•°ç¬¬Kä¸ªç»“ç‚¹ã€å¥‡å¶é“¾è¡¨ã€‚

###### (4) ç‰¢è®°é“¾è¡¨é€†åºçš„æ–¹æ³•

å¾ˆå¤šé¢˜éƒ½éœ€è¦**é“¾è¡¨é€†åº**ï¼é€†åºå¯ä»¥ä½¿ç”¨**==æ ˆã€é€’å½’ã€è¿­ä»£==**ç­‰æ–¹å¼å®ç°ã€‚æ ˆæ¯”è¾ƒè´¹ç©ºé—´ï¼Œé€’å½’è¾ƒéš¾ç†è§£ï¼Œåˆ©ç”¨è¿­ä»£å¯ä»¥é€šè¿‡ç”»å›¾çš„æ–¹å¼ç°åœºæ¨å‡ºæ¥è¿­ä»£è·¯çº¿ã€‚

é¢è¯•ä¸€å®šè¦æŒæ¡**è¿­ä»£**çš„æ–¹å¼é€†åºã€‚

åœºæ™¯ï¼šåˆ¤æ–­é“¾è¡¨æ˜¯å¦æ˜¯å›æ–‡ç»“æ„ï¼ˆé€†åºååŠéƒ¨åˆ†ï¼‰ã€ä¸¤ä¸ªé“¾è¡¨æ•°å­—ç›¸åŠ ï¼ˆè¿™ä¸ªé¢˜ç”¨æ ˆé€†åºè´¼æ–¹ä¾¿ï¼Œçœ‹å®é™…æƒ…å†µå§ï¼‰ã€åè½¬æŒ‡å®šèŒƒå›´é“¾è¡¨ã€‚

###### (5) å­¦ä¼šç”»è¿­ä»£æ€è·¯å›¾

è¿™ä¸ªå¤šç»ƒç»ƒæ‰è¡Œï¼Œä¸å°‘é¢˜ç›®ä½¿ç”¨é¢å¤–ç©ºé—´å¾ˆå®¹æ˜“ï¼Œä½†æ˜¯ç©ºé—´æµªè´¹ï¼Œä½†æ˜¯å¥¹ä»¬å…¶å®å¯ä»¥é€šè¿‡è¿­ä»£çš„æ–¹å¼åšå‡ºæ¥ï¼Œå› æ­¤**è¦å­¦ä¼šåˆ†æé¢˜ç›®ç”»å‡ºè¿­ä»£çš„å…³ç³»ï¼ŒæŒ‡é’ˆçš„å˜åŒ–**æ­¥éª¤ä¸æ–¹å¼ã€‚

åœºæ™¯ï¼šé“¾è¡¨é€†åºï¼ˆè¿­ä»£æ–¹å¼ï¼‰ã€ä¸¤ä¸¤ä¸€ç»„äº¤æ¢é“¾è¡¨ã€å¥‡å¶é“¾è¡¨ç­‰ã€‚

###### (6) å…¶ä»–

é“¾è¡¨æ˜¯**ç©ºèŠ‚ç‚¹**ï¼Œæˆ–è€…æœ‰ä¸€ä¸ªå€¼å’Œä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªé“¾è¡¨çš„æŒ‡é’ˆï¼Œå› æ­¤å¾ˆå¤šé“¾è¡¨é—®é¢˜å¯ä»¥ç”¨**é€’å½’**æ¥å¤„ç†ã€‚

##### 2. é“¾è¡¨ç»“ç‚¹ç±»

```java
class Node {
    int val;
    Node next;
    Node(int val){
        this.val = val;
    }
}
```

### åè½¬é“¾è¡¨ç±»é¢˜ç›®

è¿™ç±»é¢˜ç›®æ¶‰åŠåˆ°åè½¬æ•´ä¸ªé“¾è¡¨æˆ–è€…ä¸€éƒ¨åˆ†é“¾è¡¨ã€‚

#### ğŸ‘¨ğŸ’¯206.åè½¬å•å‘é“¾è¡¨ã€ç®€å•ã€‘

##### [1. é¢˜ç›®](https://leetcode-cn.com/problems/reverse-linked-list)

åè½¬ä¸€ä¸ªå•é“¾è¡¨ã€‚ç¤ºä¾‹ï¼š

```java
è¾“å…¥: 1->2->3->4->5->NULL
è¾“å‡º: 5->4->3->2->1->NULL
```

##### 2. é¢˜è§£

###### (1) åˆ©ç”¨æ ˆ

å¯ä»¥å…ˆå°†é“¾è¡¨**å…¨éƒ¨å…ƒç´ å‹æ ˆ**ï¼Œä¹‹å**ä¾æ¬¡å‡ºæ ˆ**å°±æ˜¯é€†åºäº†ã€‚è¿™æ ·ç©ºé—´å¤æ‚åº¦å°±æ˜¯ O(N) äº†ã€‚

###### (2) é€’å½’æ³•

é€’å½’æ–¹å¼ï¼š**é€’å½’ç³»ç»Ÿå‹æ ˆ**çš„è¿‡ç¨‹ï¼Œç³»ç»Ÿåœ¨å‹æ ˆçš„æ—¶å€™ä¼šä¿ç•™ç°åœºã€‚é€’å½’æ–¹å¼ä¸ä½¿ç”¨æ ˆç±»ä¼¼ï¼Œåªä¸è¿‡ä¸æ˜¯æ˜¾ç¤ºä½¿ç”¨æ ˆã€‚

çœ‹çœ‹é€’å½’è¿‡ç¨‹ï¼š**1->2->3->4**ã€‚

- ç¨‹åºåˆ°è¾¾ Node newHead = reverse(head.next); æ—¶**è¿›å…¥é€’å½’**ã€‚
- å‡è®¾æ­¤æ—¶é€’å½’åˆ°äº† 3 ç»“ç‚¹ï¼Œæ­¤æ—¶ head = 3 ç»“ç‚¹ï¼Œtemp = 3 ç»“ç‚¹ .next(å®é™…ä¸Šæ˜¯ 4 ç»“ç‚¹)
- æ‰§è¡Œ Node newHead = reverse(head.next); ä¼ å…¥çš„ head.next æ˜¯ 4 ç»“ç‚¹ï¼Œè¿”å›çš„ newHead æ˜¯ 4 ç»“ç‚¹ã€‚
- æ¥ä¸‹æ¥å°±æ˜¯**å¼¹æ ˆè¿‡ç¨‹**äº†
    - ç¨‹åºç»§ç»­æ‰§è¡Œ temp.next = head å°±ç›¸å½“äº 4->3ã€‚
    - head.next = null å³æŠŠ  3ç»“ç‚¹æŒ‡å‘ 4 ç»“ç‚¹çš„æŒ‡é’ˆæ–­æ‰ã€‚
    - è¿”å›æ–°é“¾è¡¨çš„å¤´ç»“ç‚¹ newHeadã€‚
- æ³¨æ„ï¼šå½“ return åï¼Œç³»ç»Ÿä¼šæ¢å¤ **2 ç»“ç‚¹**å‹æ ˆæ—¶çš„ç°åœºï¼Œæ­¤æ—¶çš„ head = 2 ç»“ç‚¹ï¼›temp = 2 ç»“ç‚¹ .next (3ç»“ç‚¹)ï¼Œå†è¿›è¡Œä¸Šè¿°çš„æ“ä½œã€‚æœ€åå®Œæˆæ•´ä¸ªé“¾è¡¨çš„ç¿»è½¬ã€‚

```java
public Node reverse(Node head) {
    // é€’å½’çš„ç»ˆæ­¢æ¡ä»¶ åªæœ‰ä¸€ä¸ªå…ƒç´ æˆ–è€…æ— å…ƒç´ è¿”å›
    if (head == null || head.next == null) return head;
        
    Node newHead = reverse(head.next);
    // ä½¿ç”¨ä¸€ä¸ªtempæ¥ä¿å­˜ä¸‹ä¸€ä¸ªç»“ç‚¹çš„æŒ‡é’ˆ
    Node temp = head.next;
    temp.next = head;
    head.next = null;
    return newHead;
}
```

###### (3) è¿­ä»£ä¿®æ”¹æŒ‡é’ˆæ³•

ä¹Ÿå«**å¤´æ’æ³•**ã€‚ç¬”è¯•ä¼šè¿™ä¸ªå³å¯ã€‚æ—¶é—´å¤æ‚åº¦ **O(N)ï¼Œç©ºé—´å¤æ‚åº¦ O(1)** çš„ç®—æ³•ã€‚

å‡è®¾å‰é¢å·²ç»åè½¬è¿‡ pre çš„é“¾è¡¨äº†ï¼Œ pre æ˜¯åè½¬åçš„å¤´éƒ¨ç»“ç‚¹ã€‚å¦‚ä¸‹å›¾ã€‚

â‘  å…ˆé€šè¿‡ head æ‰¾ head çš„ä¸‹ä¸€ä¸ªç»“ç‚¹ nextï¼Œè®°å½•ä¸‹å‰©ä¸‹æ²¡æœ‰è½¬æ–¹å‘çš„èŠ‚ç‚¹çš„å¼•ç”¨ã€‚

â‘¡ head èŠ‚ç‚¹çš„ next æŒ‡å‘ preã€‚

â‘¢ pre ç§»åŠ¨åˆ° head å¤„ã€‚

â‘£ å°† head ç§»åŠ¨åˆ° next å¤„ã€‚

<img src="assets/image-20200320125732275.png" alt="image-20200320125732275" style="zoom:67%;" />

è¿™æ ·å°±å®Œæˆäº†ä¸€ä¸ªç»“ç‚¹çš„åè½¬ã€‚**æŒç»­ä¸‹å»**ã€‚ä»£ç å¦‚ä¸‹ã€‚ä¸è¦è®°ä»£ç ï¼Œç†è§£è¿‡ç¨‹**è‡ªå·±æ¨**å°±è¡Œäº†ï¼Œåˆ†æä¸­é—´çš„ä¸€èˆ¬è¡Œä¸ºå³å¯ã€‚

```java
/**
 * åè½¬å•å‘é“¾è¡¨
 *
 * æ–¹æ³•æ˜¯ä¸æ–­æŠŠåé¢çš„æŒ‡é’ˆå¾€å‰é¢æŒ‡
 * @param head åŸé“¾è¡¨å¤´éƒ¨
 * @return åè½¬ä¹‹åçš„é“¾è¡¨
 */
public Node reverseList(Node head) {
    // åˆå§‹åŒ–ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘null
    Node pre = null;
    Node next = null;

    while (head != null) {
        next = head.next;
        head.next = pre;
        pre = head;
        head = next;
    }
    return pre;
}
```

**==è®°ä½ä¸‹é¢è¿™ä¸ªå¤´æ’æ³•å°±è¡Œï¼ï¼ï¼==**ä¸Šè¿°ä¿®æ”¹æŒ‡é’ˆè¾ƒä¸ºå¤æ‚ï¼Œè¿™é‡Œç”¨ä¸€ç§**ä¸¤ä¸ªæŒ‡é’ˆ**çš„å¤´æ’æ³•ï¼Œä¹Ÿå°±æ˜¯å¼•å…¥ **dummy ç»“ç‚¹**ï¼Œç„¶åæŠŠ**ç¬¬ä¸€ä¸ªç»“ç‚¹**å…ˆå¼„å¥½ï¼Œä¹‹åæ¯æ¬¡å°†æ–°çš„ç»“ç‚¹æ’å…¥åˆ° dummy ç»“ç‚¹çš„**åé¢ä¸€ä¸ª**ã€‚

```java
public ListNode reverseList(ListNode head) {
    // nullæˆ–åªæœ‰ä¸€ä¸ªç»“ç‚¹çš„æƒ…å†µ
    if(head == null || head.next == null) {
        return head;
    }
    // å¼•å…¥dummyç»“ç‚¹
    ListNode dummy = new ListNode(0);
    // ä½¿ç”¨ä¸€ä¸ªcurè¡¨ç¤ºå½“å‰æ­£åœ¨åè½¬çš„ç»“ç‚¹
    ListNode cur = head;
    // headä¸€ç›´åç§»
    head = head.next;
    // å…ˆæŠŠé“¾è¡¨ç¬¬ä¸€ä¸ªç»“ç‚¹æ”¾åˆ°dummyåé¢å½“åšåè½¬åçš„æœ€åä¸€ä¸ªç»“ç‚¹
    dummy.next = cur;
    cur.next = null;
    // ä¸‹é¢å°±æ˜¯ä¸æ–­éå†äº†
    while(head != null) {
        // curæŒ‡å‘å¤´ç»“ç‚¹
        cur = head;
        // ç§»åŠ¨å¤´ç»“ç‚¹
        head = head.next;
        // å°†curç»“ç‚¹æ’å…¥åˆ°dummyç»“ç‚¹ä¹‹åå½¢æˆæ–°çš„é“¾è¡¨
        cur.next = dummy.next;
        dummy.next = cur;
    }
    return dummy.next;
}
```

å†æ¥ä¸€ç§å†™æ³•ã€‚

```java
private ListNode reverseList(ListNode head) {
    if (head == null) return null;
    ListNode tail = head;
    head = head.next;
    tail.next = null;
    while (head != null) {
        ListNode temp = head.next;
        head.next = tail;
        tail = head;
        head = temp;
    }
    return tail;
}
```

---

#### ğŸ‘¨92.åè½¬æŒ‡å®šèŒƒå›´çš„é“¾è¡¨ã€ä¸­ç­‰ã€‘

##### [1. é¢˜ç›®](https://leetcode-cn.com/problems/reverse-linked-list-ii)

åè½¬ä»**ä½ç½® m åˆ° n** çš„é“¾è¡¨ã€‚è¯·ä½¿ç”¨**ä¸€è¶Ÿæ‰«æ**å®Œæˆåè½¬ã€‚è¯´æ˜ï¼š1 â‰¤ m â‰¤ n â‰¤ é“¾è¡¨é•¿åº¦ã€‚

```java
è¾“å…¥: 1->2->3->4->5->NULL, m = 2, n = 4
è¾“å‡º: 1->4->3->2->5->NULL
```

##### 2. é¢˜è§£

è¿™é‡Œç±»ä¼¼åè½¬å•å‘é“¾è¡¨ï¼Œä¹Ÿå¯ä»¥ç”¨**æ ˆ**çš„æ–¹å¼è§£å†³ï¼Œä½†æ˜¯ç©ºé—´å¤æ‚åº¦è¾ƒé«˜ã€‚ä¸€èˆ¬éƒ½æ˜¯ç”¨è¿­ä»£ç›´æ¥ä¿®æ”¹æŒ‡é’ˆã€‚

###### (1) è¿­ä»£æ³•

å°†é“¾è¡¨åˆ†ä¸º 3 ä¸ªéƒ¨åˆ†ï¼Œ2 ä¸ª**ä¸åè½¬**éƒ¨åˆ†å’Œ 1 ä¸ª**åè½¬**çš„éƒ¨åˆ†ã€‚

- å‰é¢çš„**ä¸åè½¬**éƒ¨åˆ†ï¼Œ**ä¿ç•™æœ€åä¸€ä¸ªèŠ‚ç‚¹**ï¼Œåé¢çš„ä¸åè½¬éƒ¨åˆ†ï¼Œä¿ç•™**ç¬¬ä¸€ä¸ª**èŠ‚ç‚¹ã€‚
- å¯¹äº**åè½¬**éƒ¨åˆ†ï¼Œè¦**ä¿ç•™ä¸¤ä¸ªç«¯ç‚¹**ã€‚
- åè½¬ç»“æŸåï¼Œå°†ä¸‰ä¸ªéƒ¨åˆ†**æ‹¼æ¥**èµ·æ¥ã€‚

![image-20200704184522797](assets/image-20200704184522797.png)

ç”±äº**åè½¬**çš„å¯èƒ½åŒ…å«ç¬¬ä¸€ä¸ªç»“ç‚¹ï¼Œæ‰€ä»¥**å¼•å…¥ dummy ç»“ç‚¹**ã€‚åŒæ—¶å¼•å…¥ä¸€ä¸ª **cur** æŒ‡é’ˆï¼Œ**ä»å‰å¾€å**ä¸€ç›´éå†ã€‚

```java
public ListNode reverseBetween(ListNode head, int start, int end) {
    // å¼•å…¥dummyç»“ç‚¹
    ListNode dummy = new ListNode(0);
    dummy.next = head;
    // curç”¨äºä¾æ¬¡éå†è¿™ä¸ªé“¾è¡¨
    ListNode cur = dummy;
    // æ‰¾ç¬¬ä¸€éƒ¨åˆ†ä¸ç”¨å˜çš„ start = 4, end = 6
    for(int i = 0; i < start - 1; i++) {
        cur = cur.next;
    }
    // è®°å½•ç¬¬ä¸€éƒ¨åˆ†ä¸ç”¨å˜åŒ–çš„æœ«å°¾èŠ‚ç‚¹
    ListNode originEnd = cur;
    // å¾—åˆ°éœ€è¦å˜å¾—éƒ¨åˆ†çš„å¤´
    ListNode revBegin = originEnd.next;
    // end - start = 2
    for(int j = 0; j <= end - start; j++) {
        cur = cur.next;
    }
    // æ­¤æ—¶pä¸ºéœ€è¦å˜å¾—éƒ¨åˆ†çš„æœ«å°¾ï¼Œå…¶åé¢ä¸€ä¸ªç»“ç‚¹å³ä¸ºåé¢ä¸éœ€è¦å˜å¾—éƒ¨åˆ†çš„å¤´ç»“ç‚¹
    ListNode lastStart = cur.next;
    // å½“å‰curæŒ‡å‘éœ€è¦åè½¬é“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ­¤æ—¶æ–­å¼€æŒ‡é’ˆ
    cur.next = null;
    // åè½¬é“¾è¡¨ï¼Œç»è¿‡åè½¬ï¼ŒrevBeginå·²ç»æŒ‡å‘äº†åè½¬åé“¾è¡¨çš„æœ«å°¾
    originEnd.next = reverse(revBegin);

    // è¿æ¥æœ€åä¸€æ®µä¸éœ€è¦å˜åŒ–çš„éƒ¨åˆ†
    revBegin.next = lastStart;

    return dummy.next;
}

// é€’å½’åè½¬é“¾è¡¨
ListNode reverse(ListNode head) {
    if (head.next == null) return head;
    ListNode last = reverse(head.next);
    head.next.next = head;
    head.next = null;
    return last;
}
```

#### ğŸ‘¨25.Kä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨ã€å›°éš¾ã€‘

##### [1. é¢˜ç›®](https://leetcode-cn.com/problems/reverse-nodes-in-k-group)

ç»™ä½ ä¸€ä¸ªé“¾è¡¨ï¼Œæ¯ **k ä¸ªèŠ‚ç‚¹ä¸€ç»„**è¿›è¡Œç¿»è½¬ï¼Œè¯·ä½ è¿”å›ç¿»è½¬åçš„é“¾è¡¨ã€‚k æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œå®ƒçš„å€¼å°äºæˆ–ç­‰äºé“¾è¡¨çš„é•¿åº¦ã€‚æœèŠ‚ç‚¹æ€»æ•°**ä¸æ˜¯ k** çš„æ•´æ•°å€ï¼Œé‚£ä¹ˆè¯·å°†æœ€å**å‰©ä½™çš„èŠ‚ç‚¹ä¿æŒåŸæœ‰é¡ºåº**ã€‚é¢˜ç›®è¦æ±‚ï¼šç®—æ³•åªèƒ½ä½¿ç”¨**å¸¸æ•°**çš„é¢å¤–ç©ºé—´ã€‚

```java
é“¾è¡¨ï¼š1->2->3->4->5
å½“ k = 2 æ—¶ï¼Œåº”å½“è¿”å›: 2->1->4->3->5
å½“ k = 3 æ—¶ï¼Œåº”å½“è¿”å›: 3->2->1->4->5
```

ä¸æ˜¯ä»…äº¤æ¢æ•°å€¼ï¼Œéœ€è¦**äº¤æ¢ç»“ç‚¹**ã€‚

##### 2. é¢˜è§£

é¢˜ç›®è¦æ±‚ç®—æ³•åªèƒ½ä½¿ç”¨**å¸¸æ•°**çš„é¢å¤–ç©ºé—´ã€‚è¯´æ˜**ä¸èƒ½ç”¨é€’å½’**ï¼Œåªèƒ½ç”¨**è¿­ä»£**çš„æ–¹å¼è¿›è¡Œã€‚åšé¢˜ä¹‹å‰å…ˆè‡ªå·±ç”»ä¸ªå›¾æƒ³æƒ³å¤§è‡´æ€è·¯ï¼Œç†æ¸…æ¯ä¸€ä¸ªä¸´ç•Œä½ç½®çš„æŒ‡å‘ã€‚

- é¦–å…ˆé€šè¿‡ **k æ¬¡ for å¾ªç¯ç”¨ end æŒ‡é’ˆæŒ‡å‘ç¿»è½¬å…ƒç´ çš„æœ«å°¾**ã€‚
- æ­¤æ—¶åˆ¤æ–­ä¸€ä¸‹å¦‚æœç¿»è½¬å…ƒç´ ä¸åˆ° k ä¸ªï¼Œå³ end==nullï¼Œè¯´æ˜**å·²ç»åˆ°è¾¾æœ«å°¾**ï¼Œç›´æ¥è¿”å›å³å¯ã€‚
- æ¥ä¸‹æ¥éœ€è¦å®šä¹‰ä¸¤ä¸ªæŒ‡é’ˆ **pre å’Œ pLast åˆ†åˆ«è®°å½•ç¿»è½¬å…ƒç´ çš„å‰é©±å’Œåç»§**ï¼Œä»¥ä¾¿å°†ç¿»è½¬å…ƒç´ å‰åä¸¤éƒ¨åˆ†è¿æ¥èµ·æ¥ã€‚
- ä¹‹åå†é‡ç½® **pre å’Œ end æŒ‡é’ˆ**ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯ã€‚
- éå†å®Œä¹‹åè¿”å› dummy å¸¦å¤´ç»“ç‚¹ä¸‹ä¸€ä¸ªå…ƒç´ å³å¯ã€‚

<img src="assets/image-20200531172314136.png" alt="image-20200531172314136" style="zoom:50%;" />

<img src="../../JavaNotes/B æ•°æ®ç»“æ„ä¸ç®—æ³•/assets/image-20200531172327119.png" alt="image-20200531172327119" style="zoom:50%;" />

<img src="../../JavaNotes/B æ•°æ®ç»“æ„ä¸ç®—æ³•/assets/image-20200531172423551.png" alt="image-20200531172423551" style="zoom:50%;" />

ç”±äºç¬¬ä¸€ä¸ªç»“ç‚¹éœ€è¦è¿›è¡Œ**åè½¬**ï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ª **dummy** ç»“ç‚¹ã€‚

```java
public ListNode reverseKGroup(ListNode head, int k) {
    // ç”±äºè¦æ“ä½œç¬¬ä¸€ä¸ªèŠ‚ç‚¹ å¼•å…¥dummyèŠ‚ç‚¹
    ListNode dummy = new ListNode(0);
    dummy.next = head;
    // åˆå§‹åŒ–åŒæŒ‡é’ˆ
    ListNode slow = dummy;
    ListNode fast = dummy;
    while (true) {
        // è®©fastéå†åˆ°éœ€è¦ç¿»è½¬çš„æœ€åä¸€ä¸ªå…ƒç´ ä½ç½®
        for (int i = 0; i < k && fast != null; i++) {
            // è¯´æ˜faståˆ°äº†é“¾è¡¨å°¾éƒ¨,æ­¤è½®åè½¬é•¿åº¦ä¸å¤Ÿ
            fast = fast.next;
        }
        // åªè¦fastéå†åˆ°äº†nullç›´æ¥è·³å‡ºå¾ªç¯
        if (fast == null) break;
        // ä¸‹é¢å°±æ˜¯ç”»å›¾æ”¹å˜æŒ‡é’ˆæŒ‡å‘
        // ä¸ºäº†åˆ«æŠŠé“¾è¡¨æä¸¢ï¼Œè®°å½•ä¸€ä¸‹åé¢ç­‰å¾…åè½¬çš„é“¾è¡¨å¤´ç»“ç‚¹
        ListNode remainList = fast.next;
        // å®šä¹‰startæŒ‡å‘ç¿»è½¬å…ƒç´ çš„ç¬¬ä¸€ä¸ªä½ç½®
        ListNode reverseStart = slow.next;
        // æœ€åä¸€ä¸ªç¿»è½¬å…ƒç´ å…ˆæ–­é“¾
        fast.next = null;
        // ç„¶åé€šè¿‡ç¿»è½¬æ–¹æ³•reverse()åæ¥åœ¨slowåé¢
        slow.next = reverseList(reverseStart);
        // ä¿æŒä¸‹æ¬¡å¾ªç¯ä¸€è‡´çš„ä½ç½®
        reverseStart.next = remainList;
        slow = reverseStart;
        // åè½¬ä¹‹åé‡ç½®æŒ‡é’ˆ
        fast = slow;
    }
    return dummy.next;
}

// è¿­ä»£åè½¬é“¾è¡¨çš„æ¨¡æ¿
public ListNode reverseList(ListNode head) {
    // åˆå§‹åŒ–ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘null
    ListNode pre = null;
    ListNode next = null;

    while (head != null) {
        next = head.next;
        head.next = pre;
        pre = head;
        head = next;
    }
    return pre;
}
```

#### 24.ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ã€ä¸­ç­‰ã€‘

##### [1. é¢˜ç›®](https://leetcode-cn.com/problems/swap-nodes-in-pairs)

ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œ**ä¸¤ä¸¤äº¤æ¢**å…¶ä¸­ç›¸é‚»çš„èŠ‚ç‚¹ï¼Œå¹¶è¿”å›äº¤æ¢åçš„é“¾è¡¨ã€‚**ä¸èƒ½**åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼ï¼Œè€Œæ˜¯**éœ€è¦å®é™…çš„è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢**ã€‚

```
1->2->3->4 è¿”å› 2->1->4->3
```

##### 2. é¢˜è§£

è¿™é‡Œåº”è¯¥ä¹Ÿå¯ä»¥åˆ©ç”¨ **K ä¸ªä¸€ç»„**åè½¬é“¾è¡¨çš„è§£æ³•ï¼Œåªä¸è¿‡ **K = 2**ã€‚

###### (1) åŒæŒ‡é’ˆéå†æ³•

- é¦–å…ˆç”±äºéœ€è¦æ“ä½œ**å¤´ç»“ç‚¹**ï¼Œå› æ­¤å¼•å…¥ä¸€ä¸ª **dummy** ç»“ç‚¹ï¼Œç”¨äºä¿å­˜æœ€åè¿”å›çš„å¤´ç»“ç‚¹ã€‚
- å†å¼•å…¥ä¸€ä¸ª **cur ç»“ç‚¹**ï¼Œåç»­ cur ä½œä¸º dummy ç»“ç‚¹ç§»åŠ¨ã€‚
- åç»­çš„ç»“ç‚¹**ä¸¤ä¸¤ä¸€ç»„è¿›è¡Œäº¤æ¢**ï¼Œä¸»è¦æ˜¯æ³¨æ„æŒ‡é’ˆçš„å˜æ¢ï¼Œç±»ä¼¼äºæ™®é€šçš„**å˜é‡äº¤æ¢**ï¼Œç”»å›¾ç†è§£å³å¯ï¼
- å½“å®Œæˆä¸¤ä¸ªä¹‹åï¼Œcur æŒ‡é’ˆå¾€**åç§»åŠ¨ä¸¤æ­¥**ï¼Œhead ç§»åŠ¨åˆ° cur çš„**åé¢**ï¼Œå†æ¬¡é‡å¤ä¸Šè¿°çš„äº¤æ¢åŠ¨ä½œã€‚ç›´åˆ° cur çš„åé¢æ²¡æœ‰ç»“ç‚¹æˆ–è€…åªæœ‰ä¸€ä¸ªç»“ç‚¹ä¸ºæ­¢ã€‚

å›¾ç¤ºå¦‚ä¸‹å›¾ã€‚

![image-20200406234936203](assets/image-20200406234936203.png)

![image-20200406235003364](assets/image-20200406235003364.png)

```java
public ListNode swapPairs(ListNode head) {
    // Base case
    if(head == null || head.next == null) return head;
    // å¼•å…¥dummyä¸curç»“ç‚¹
    ListNode dummy = new ListNode(0);
    dummy.next = head;
    ListNode cur = dummy;

    // å½“curç»“ç‚¹åé¢æ²¡æœ‰ç»“ç‚¹æˆ–è€…ä»…æœ‰ä¸€ä¸ªç»“ç‚¹åœæ­¢
    while(cur.next != null && cur.next.next != null) {
        // è¿™ä¸‰æ­¥è¿›è¡ŒæŒ‡é’ˆå˜æ¢:ç”»å›¾è¿›è¡Œäº¤æ¢å³å¯ï¼
        cur.next = head.next;
        head.next = head.next.next;
        cur.next.next = head;
        // curå¾€åç§»åŠ¨2ä¸ªç»“ç‚¹
        cur = cur.next.next;
        // headç§»åŠ¨åˆ°curåé¢
        head = head.next;
    }
    return dummy.next;
}
```

###### (2) é€’å½’è§£æ³•

åªèƒ½è¯´ 666 äº†ã€‚

```java
public class Solution {
    public ListNode swapPairs(ListNode head) {
        if(head == null || head.next == null){
            return head;
        }
        ListNode next = head.next;
        head.next = swapPairs(next.next);
        next.next = head;
        return next;
    }
}
```



### é“¾è¡¨åˆå¹¶ä¸åˆ‡åˆ†ç±»é¢˜ç›®

å½“éœ€è¦å˜æ¢é“¾è¡¨æ—¶ï¼Œç›´æ¥å¼•å…¥ä¸€ä¸ª dummy ç»“ç‚¹ï¼Œç„¶åæŠŠåˆæ ¼çš„é“¾è¡¨å¼„åˆ° dummy åé¢å³å¯ã€‚

#### ğŸ’¯21.åˆå¹¶ä¸¤ä¸ªæœ‰åºçš„é“¾è¡¨ã€ç®€å•ã€‘

##### [1. é¢˜ç›®](https://leetcode-cn.com/problems/merge-two-sorted-lists/)

ä¸¤ä¸ªé“¾è¡¨éƒ½æ˜¯ä»å°åˆ°å¤§æ’åˆ—ï¼Œåˆå¹¶ä¸¤ä¸ªé“¾è¡¨ï¼Œä½¿å…¶åˆå¹¶ä¹‹åä¾ç„¶æ˜¯ä»å°åˆ°å¤§æ’åˆ—ã€‚

##### 2. é¢˜è§£

###### (1) é€’å½’æ³•

**é€’å½’ç‰ˆæœ¬**ï¼Œé¢å¤–ç©ºé—´ä¸º **O(N)**ã€‚

```java
/**
* åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨ï¼šé€’å½’ç‰ˆæœ¬
*
* @param head1 é“¾è¡¨1
* @param head2 é“¾è¡¨2
* @return åˆå¹¶åçš„é“¾è¡¨
*/
public Node mergeTwoLists(Node head1, Node head2) {
    // å¦‚æœå…¶ä¸­ä¹‹ä¸€ä¸ºnullåˆ™è¿”å›å¦ä¸€ä¸ª
    if (head1 == null || head2 == null) {
        return head1 != null ? head1 : head2;	// å¦™
    }
    // åˆ©ç”¨headæ¥ä¿å­˜ç»“ç‚¹å€¼
    Node head = null;
    // åˆ°è¿™é‡Œè¯´æ˜ä¸¤ä¸ªèŠ‚ç‚¹éƒ½ä¸ä¸ºnull
    if (head1.value <= head2.value){
        // åˆå¹¶head1å¹¶ä¼ å…¥å…¶ä¸‹ä¸€ä¸ªç»“ç‚¹ç»§ç»­
        head = head1;
        head.next = mergeTwoLists(head1.next, head2);
    } else {
        // åˆå¹¶head2å¹¶ä¼ å…¥å…¶ä¸‹ä¸€ä¸ªç»“ç‚¹ç»§ç»­
        head = head2;
        head.next = mergeTwoLists(head1, head2.next);
    }
    return head;
}
```

###### (2) è¿­ä»£ç‰ˆæœ¬

**è¿­ä»£ç‰ˆæœ¬**ï¼šå°±æ˜¯éœ€è¦æ‰¾åˆ°**å°çš„èµ·å§‹å€¼**å¼€å§‹éå†åˆå¹¶ã€‚æ³¨æ„éœ€è¦**ä¿å­˜é“¾è¡¨çš„ç»“ç‚¹å˜é‡**å³å¯ã€‚

```java
public ListNode mergeTwoLists2(ListNode l1, ListNode l2) {
    // å…¶ä¸­ä¸€ä¸ªä¸ºnullè¿”å›å¦ä¸€æ¡
    if(l1 == null || l2 == null) return l1 == null ? l2 : l1;
    // å¼•å…¥dummyç»“ç‚¹
    ListNode dummy = new ListNode(0);
    ListNode cur = dummy;
    // éƒ½ä¸ä¸ºnullè¿›è¡Œ
    while(l1 != null && l2 != null) {
        if(l1.val < l2.val) {
            ListNode temp = l1;
            l1 = l1.next;
            temp.next = null;
            cur.next = temp;
        } else {
            ListNode temp = l2;
            l2 = l2.next;
            temp.next = null;
            cur.next = temp;
        }
        cur = cur.next;
    }
    // åˆ°è¿™é‡Œè¯´æ˜æœ‰ä¸€ä¸ªä¸ºnulläº†ï¼Œè¿æ¥ä¸Šå³å¯
    if(l1 == null) cur.next = l2;
    if(l2 == null) cur.next = l1;
    return dummy.next;
}
```

#### 23.åˆå¹¶Kä¸ªæœ‰åºé“¾è¡¨ã€å›°éš¾ã€‘

##### [1. é¢˜ç›®](https://leetcode-cn.com/problems/merge-k-sorted-lists)

**åˆå¹¶ k** ä¸ªæ’åºé“¾è¡¨ï¼Œè¿”å›åˆå¹¶åçš„æ’åºé“¾è¡¨ã€‚è¯·åˆ†æå’Œæè¿°ç®—æ³•çš„å¤æ‚åº¦ã€‚

```
[
  1->4->5,
  1->3->4,
  2->6
]
è¾“å‡º: 1->1->2->3->4->4->5->6
```

##### 2. é¢˜è§£

###### (1) é€ä¸€æ¯”è¾ƒ

- æ¯”è¾ƒ k ä¸ªèŠ‚ç‚¹ï¼ˆæ¯ä¸ªé“¾è¡¨çš„é¦–èŠ‚ç‚¹ï¼‰ï¼Œè·å¾—æœ€å°å€¼çš„èŠ‚ç‚¹ã€‚
- å°†é€‰ä¸­çš„èŠ‚ç‚¹æ¥åœ¨æœ€ç»ˆæœ‰åºé“¾è¡¨çš„åé¢ã€‚

###### (2) ç”¨ä¼˜å…ˆé˜Ÿåˆ—ä¼˜åŒ–æ–¹æ³•

å‡ ä¹ä¸ä¸Šè¿°æ–¹æ³•ä¸€æ ·ï¼Œé™¤äº†å°† **æ¯”è¾ƒç¯èŠ‚** ç”¨ **ä¼˜å…ˆé˜Ÿåˆ—** è¿›è¡Œäº†ä¼˜åŒ–ã€‚å°†**æ‰€æœ‰çš„æ•°å€¼æ”¾å…¥åˆ°ä¼˜å…ˆé˜Ÿåˆ—ä¸­ï¼Œå†é€ä¸€å‡ºé˜Ÿåˆ—**ã€‚

###### (3) é€ä¸€ä¸¤ä¸¤åˆå¹¶é“¾è¡¨

åˆ©ç”¨åˆå¹¶ä¸¤ä¸ªé“¾è¡¨çš„æ€æƒ³ï¼Œ**å°†åˆå¹¶ k ä¸ªé“¾è¡¨çš„é—®é¢˜è½¬åŒ–æˆåˆå¹¶ 2 ä¸ªé“¾è¡¨ k-1 æ¬¡**ã€‚

###### (4) åˆ†æ²»æ³•

è¿™ä¸ªæ–¹æ³•æ²¿ç”¨äº†ä¸Šé¢çš„è§£æ³•ï¼Œä½†æ˜¯è¿›è¡Œäº†è¾ƒå¤§çš„ä¼˜åŒ–ã€‚ä¸éœ€è¦å¯¹å¤§éƒ¨åˆ†èŠ‚ç‚¹é‡å¤éå†å¤šæ¬¡ã€‚

```java
public ListNode mergeKLists(ListNode[] lists) {
    if (lists == null || lists.length == 0) return null;
    return merge(lists, 0, lists.length - 1);
}

private ListNode merge(ListNode[] lists, int left, int right) {
    if (left == right) return lists[left];
    int mid = left + (right - left) / 2;
    ListNode l1 = merge(lists, left, mid);
    ListNode l2 = merge(lists, mid + 1, right);
    return mergeTwoLists(l1, l2);
}

private ListNode mergeTwoLists(ListNode l1, ListNode l2) {
    if (l1 == null) return l2;
    if (l2 == null) return l1;
    if (l1.val < l2.val) {
        l1.next = mergeTwoLists(l1.next, l2);
        return l1;
    } else {
        l2.next = mergeTwoLists(l1, l2.next);
        return l2;
    }
}
```

#### 86.åˆ†éš”é“¾è¡¨ã€ä¸­ç­‰ã€‘

##### [1. é¢˜ç›®](https://leetcode-cn.com/problems/partition-list)

ç»™å®šä¸€ä¸ª**é“¾è¡¨**å’Œä¸€ä¸ª**ç‰¹å®šå€¼ x**ï¼Œå¯¹é“¾è¡¨è¿›è¡Œåˆ†éš”ï¼Œä½¿å¾—æ‰€æœ‰**å°äº x çš„èŠ‚ç‚¹éƒ½åœ¨å¤§äºæˆ–ç­‰äº x çš„èŠ‚ç‚¹ä¹‹å‰**ã€‚åº”å½“ä¿ç•™ä¸¤ä¸ªåˆ†åŒºä¸­æ¯ä¸ªèŠ‚ç‚¹çš„åˆå§‹ç›¸å¯¹ä½ç½®ã€‚

```
è¾“å…¥: head = 1->4->3->2->5->2, x = 3
è¾“å‡º: 1->2->2->4->3->5
```

##### 2. é¢˜è§£

###### (1) åŒæŒ‡é’ˆæ³•

å¯ä»¥ç”¨ä¸¤ä¸ªæŒ‡é’ˆ`before` å’Œ `after` æ¥è¿½è¸ª**ä¸¤ä¸ªé“¾è¡¨**ã€‚ä¸¤ä¸ªæŒ‡é’ˆå¯ä»¥ç”¨äºåˆ†åˆ«åˆ›å»ºä¸¤ä¸ªé“¾è¡¨ï¼Œç„¶åå°†è¿™ä¸¤ä¸ªé“¾è¡¨è¿æ¥å³å¯è·å¾—æ‰€éœ€çš„é“¾è¡¨ã€‚

- å¼•å…¥ **Dummy** ç»“ç‚¹ã€‚

<img src="assets/c688c95bea37ba6d146f5488544cf775f27a6275baf06a4e0721971931701de4-image.png" alt="image.png" style="zoom:50%;" />

- ä¸æ–­**éå†**åŸé“¾è¡¨ï¼Œ**å°çš„ç»“ç‚¹æŒ‚è½½åˆ°å°çš„é“¾è¡¨ï¼Œå¤§äºç­‰äºçš„ç»“ç‚¹æŒ‚è½½åˆ°å¤§çš„ç»“ç‚¹**ã€‚

![image.png](assets/f1c7797cce53e0a2334af83bfd207c84e1195db4b74a962253c49e3798b4eb45-image.png)

- æœ€åå°†**ä¸¤ä¸ªé“¾è¡¨è¿æ¥èµ·æ¥**ã€‚æ•´ä¸ªè¿‡ç¨‹æ²¡æœ‰æ–°å»ºç»“ç‚¹ï¼Œé¢å¤–ç©ºé—´æ˜¯ O(1) çš„ã€‚

```java
public ListNode partition(ListNode head, int num) {

    // dummyLesså­˜æ”¾å°äºXçš„ç»“ç‚¹ï¼ŒdummyMoreå­˜æ”¾å¤§äºç­‰äºXçš„ç»“ç‚¹
    ListNode dummyLess = new ListNode(0);
    ListNode less = dummyLess;
    ListNode dummyMore = new ListNode(0);
    ListNode more = dummyMore;

    while (head != null) {
        // å€¼å°äºXæ”¾åœ¨dummyLessä¸‹
        if (head.val < num) {
            less.next = head;
            less = less.next;
        } else {
            // å€¼å¤§äºXæ”¾åœ¨dummyMoreä¸‹
            more.next = head;
            more = more.next;
        }
        // ç§»åŠ¨æŒ‡é’ˆ
        head = head.next;
    }

    // å°†ä¸¤ä¸ªé“¾è¡¨è¿æ¥èµ·æ¥
    more.next = null;
    less.next = dummyMore.next;
    return dummyLess.next;
}
```

#### 328.å¥‡å¶é“¾è¡¨ã€ä¸­ç­‰ã€‘

##### [1. é¢˜ç›®](https://leetcode-cn.com/problems/odd-even-linked-list)

ç»™å®šä¸€ä¸ªå•é“¾è¡¨ï¼ŒæŠŠæ‰€æœ‰çš„**å¥‡æ•°èŠ‚ç‚¹**å’Œ**å¶æ•°èŠ‚ç‚¹**åˆ†åˆ«**æ’åœ¨ä¸€èµ·**ã€‚è¯·æ³¨æ„ï¼Œè¿™é‡Œçš„å¥‡æ•°èŠ‚ç‚¹å’Œå¶æ•°èŠ‚ç‚¹æŒ‡çš„æ˜¯**èŠ‚ç‚¹ç¼–å·**çš„å¥‡å¶æ€§ï¼Œè€Œ**ä¸æ˜¯èŠ‚ç‚¹çš„å€¼çš„å¥‡å¶æ€§**ã€‚è¯·å°è¯•ä½¿ç”¨**åŸåœ°ç®—æ³•**å®Œæˆã€‚ä½ çš„ç®—æ³•çš„ç©ºé—´å¤æ‚åº¦åº”ä¸º **O(1)**ï¼Œæ—¶é—´å¤æ‚åº¦åº”ä¸º O(N)ï¼ŒN ä¸ºèŠ‚ç‚¹æ€»æ•°ã€‚è¯´æ˜ï¼šåº”å½“ä¿æŒå¥‡æ•°èŠ‚ç‚¹å’Œå¶æ•°èŠ‚ç‚¹çš„**ç›¸å¯¹é¡ºåº**ã€‚é“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹è§†ä¸ºå¥‡æ•°èŠ‚ç‚¹ï¼Œç¬¬äºŒä¸ªèŠ‚ç‚¹è§†ä¸ºå¶æ•°èŠ‚ç‚¹ï¼Œä»¥æ­¤ç±»æ¨ã€‚

```java
è¾“å…¥: 1->2->3->4->5->NULL
è¾“å‡º: 1->3->5->2->4->NULL

è¾“å…¥: 2->1->3->5->6->4->7->NULL 
è¾“å‡º: 2->3->6->7->1->5->4->NULL
```

##### 2. é¢˜è§£

###### (1) åŒæŒ‡é’ˆæ³•

è¿™ä¸ªé¢˜è·Ÿä¸Šä¸ªé¢˜ç±»ä¼¼ï¼Œåªä¸è¿‡åˆ¤æ–­æ¡ä»¶å˜åŒ–äº†ã€‚å°†å¥‡èŠ‚ç‚¹æ”¾åœ¨ä¸€ä¸ªé“¾è¡¨é‡Œï¼Œå¶é“¾è¡¨æ”¾åœ¨å¦ä¸€ä¸ªé“¾è¡¨é‡Œã€‚ç„¶åæŠŠå¶é“¾è¡¨æ¥åœ¨å¥‡é“¾è¡¨çš„**å°¾éƒ¨**ã€‚

<img src="assets/00bd1d974b5a2e6d7d4faf0d5baad1c691f4ed8963cb1b7133d1112bad4c5e86-image.png" alt="image.png" style="zoom: 50%;" />

```java
public ListNode oddEvenList(ListNode head) {
    // base case
    if (head == null) return null;
    // ç¬¬ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å¥‡ç»“ç‚¹ï¼ˆå°±æ˜¯Headï¼‰ï¼Œç¬¬äºŒä¸ªä¸ºå¶ç»“ç‚¹çš„å¤´ç»“ç‚¹ï¼ŒevenHeadä¿å­˜å¶é“¾è¡¨å¤´éƒ¨
    ListNode odd = head, even = head.next, evenHead = even;
    // å¾ªç¯é€€å‡ºæ¡ä»¶
    while (even != null && even.next != null) {
        // å¥‡ç»“ç‚¹çš„ä¸‹ä¸€ä¸ªæ˜¯è·³è¿‡ä¸€ä¸ªä½ç½®çš„ä¸‹ä¸€ä¸ª
        odd.next = even.next;
        // å¾€åç§»åŠ¨å¥‡ç»“ç‚¹æŒ‡é’ˆ
        odd = odd.next;
        // å¶ç»“ç‚¹çš„ä¸‹ä¸€ä¸ªæ˜¯è·³è¿‡ä¸€ä¸ªä½ç½®çš„ä¸‹ä¸€ä¸ª
        even.next = odd.next;
        // å¾€åç§»åŠ¨å¶ç»“ç‚¹
        even = even.next;
    }
    // å°†å¶é“¾è¡¨å¤´éƒ¨è¿æ¥åˆ°å¥‡é“¾è¡¨å°¾éƒ¨
    odd.next = evenHead;
    // è¿”å›å¤´ï¼ˆå°±æ˜¯å¥‡ç»“ç‚¹å¤´éƒ¨ï¼‰
    return head;
}
```

è‡ªå·±å†™çš„å®¹æ˜“ç†è§£çš„ç‰ˆæœ¬ï¼š

```java
public ListNode oddEvenList(ListNode head) {
    if (head == null) return null;
    // åˆå§‹åŒ–ä¸¤ä¸ªdummyç»“ç‚¹å³å¯
    ListNode odd = new ListNode(0);
    ListNode even = new ListNode(0);
    ListNode oddCur = odd;
    ListNode evenCur = even;
    int cnt = 1;
    while(head != null) {
        if(cnt % 2 == 1) {
            oddCur.next = head;
            head = head.next;
            oddCur = oddCur.next;
            oddCur.next = null;
        } else {
            evenCur.next = head;
            head = head.next;
            evenCur = evenCur.next;
            evenCur.next = null;
        }
        cnt++;
    }
    // è¿æ¥ä¸¤ä¸ªé“¾è¡¨
    oddCur.next = even.next;
    return odd.next;
}
```

#### 725.é“¾è¡¨åˆ†éš”æˆKä¸ªé“¾è¡¨ã€ä¸­ç­‰ã€‘

##### [1.é¢˜ç›®](https://leetcode-cn.com/problems/split-linked-list-in-parts)

ç»™å®šä¸€ä¸ªå¤´ç»“ç‚¹ä¸º root çš„é“¾è¡¨, ç¼–å†™ä¸€ä¸ªå‡½æ•°ä»¥å°†é“¾è¡¨**åˆ†éš”ä¸º k ä¸ªè¿ç»­**çš„éƒ¨åˆ†ã€‚æ¯éƒ¨åˆ†çš„é•¿åº¦åº”è¯¥å°½å¯èƒ½çš„ç›¸ç­‰ï¼šä»»æ„ä¸¤éƒ¨åˆ†çš„é•¿åº¦å·®è·ä¸èƒ½è¶…è¿‡ 1ï¼Œä¹Ÿå°±æ˜¯è¯´å¯èƒ½æœ‰äº›éƒ¨åˆ†ä¸º nullã€‚è¿™kä¸ªéƒ¨åˆ†åº”è¯¥æŒ‰ç…§åœ¨é“¾è¡¨ä¸­å‡ºç°çš„é¡ºåºè¿›è¡Œè¾“å‡ºï¼Œå¹¶ä¸”æ’åœ¨å‰é¢çš„éƒ¨åˆ†çš„é•¿åº¦åº”è¯¥å¤§äºæˆ–ç­‰äºåé¢çš„é•¿åº¦ã€‚

è¿”å›ä¸€ä¸ªç¬¦åˆä¸Šè¿°è§„åˆ™çš„é“¾è¡¨çš„åˆ—è¡¨ã€‚

```java
è¾“å…¥: 
root = [1, 2, 3], k = 5
è¾“å‡º: [[1],[2],[3],[],[]]
è§£é‡Š:è¾“å…¥è¾“å‡ºå„éƒ¨åˆ†éƒ½åº”è¯¥æ˜¯é“¾è¡¨ï¼Œè€Œä¸æ˜¯æ•°ç»„ã€‚
ä¾‹å¦‚, è¾“å…¥çš„ç»“ç‚¹ root çš„ val= 1, root.next.val = 2, \root.next.next.val = 3, ä¸” root.next.next.next = nullã€‚
ç¬¬ä¸€ä¸ªè¾“å‡º output[0] æ˜¯ output[0].val = 1, output[0].next = nullã€‚
æœ€åä¸€ä¸ªå…ƒç´  output[4] ä¸º null, å®ƒä»£è¡¨äº†æœ€åä¸€ä¸ªéƒ¨åˆ†ä¸ºç©ºé“¾è¡¨ã€‚
    
è¾“å…¥: 
root = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10], k = 3
è¾“å‡º: [[1, 2, 3, 4], [5, 6, 7], [8, 9, 10]]
è§£é‡Š:è¾“å…¥è¢«åˆ†æˆäº†å‡ ä¸ªè¿ç»­çš„éƒ¨åˆ†ï¼Œå¹¶ä¸”æ¯éƒ¨åˆ†çš„é•¿åº¦ç›¸å·®ä¸è¶…è¿‡1.å‰é¢éƒ¨åˆ†çš„é•¿åº¦å¤§äºç­‰äºåé¢éƒ¨åˆ†çš„é•¿åº¦ã€‚
```

##### 2. é¢˜è§£

###### (1) è¾…åŠ©ç©ºé—´æ³•

ä½¿ç”¨é¢å¤–ç©ºé—´ï¼Œè‚¯å®šå¯ä»¥åšå‡ºæ¥ï¼Œä½†æ˜¯ä»£ä»·æœ‰ç‚¹é«˜ã€‚

###### (2) è¿­ä»£æ³•

æœ¬é¢˜å®è´¨ï¼šè€ƒå¯Ÿå¦‚ä½•åˆ’åˆ†ä¸€ä¸ªæ•´æ•° nã€‚å·§å¦™ç±»æ¯”ï¼š
ï¼ˆ1ï¼‰å…ˆæ•°å‡ºæœ‰å¤šå°‘å—**å°ç³–**ï¼Œå¾— n å—ï¼›
ï¼ˆ2ï¼‰å°† n å—å°ç³–åˆ†ç»™ **k ä¸ªå°æœ‹å‹**ï¼Œä»å·¦å¾€å³**å‡åˆ†** **(n / k)** å—ï¼›
ï¼ˆ3ï¼‰å‰é¢çš„**(n % k)** ä¸ªäººåœ¨åˆ†çš„æ—¶å€™**å¤šçš„ä¸€ä»½**ï¼Œè®°å½•ä¸€ä¸‹**å‰é¢æœ‰å¤šå°‘ä¸ªäººéœ€è¦å¤šåˆ†ä¸€ä»½**ã€‚

```java
public ListNode[] splitListToParts(ListNode root, int k) {
    int length = 0;
    ListNode head = root;
    // å…ˆæ±‚é“¾è¡¨é•¿åº¦
    while (head != null) {
        head = head.next;
        length++;
    }
    // è®¡ç®—å¯ä»¥åˆ†æˆå‡ ä»½
    int cutCount =  length / k;
    // å¦‚æœä¸å¤Ÿåˆ†æˆkä»½ï¼Œ åˆ™ä¸éœ€è¦å‰é¢å‡ ä»½å¤šåˆ†ï¼Œ å¦åˆ™å‰é¢prevCountä»½æ¯ä»½éœ€è¦å¤šåˆ†ä¸€ä¸ª
    int preCount = length % k;
    ListNode[] resListNodes = new ListNode[k];
    for (int i = 0; i < k; i++) {
        // ä¸€ä¸ªéƒ¨åˆ†çš„é“¾è¡¨
        ListNode newHead = new ListNode(0);
        ListNode cur = newHead;
        // åˆ¤æ–­å¦‚æœprevCount > 0 ï¼Œåˆ™å½“å‰éœ€è¦å¤šåˆ†ä¸€ä»½
        for (int j = 0; j < (preCount <= 0 ? cutCount : cutCount + 1); j++) {
            if (root != null) {
                cur.next = root;
                cur = root;
                root = root.next;
            }
        }
        // å°†éœ€è¦å¤šåˆ†çš„æ•°é‡å‡ä¸€
        preCount--;
        // åˆ‡æ–­å‰é¢çš„èŠ‚ç‚¹å’Œåé¢çš„è”ç³»
        cur.next = null;
        resListNodes[i] = newHead.next;
    }
    return resListNodes;
}
```

è‡ªå·±å†™çš„æ˜“äºç†è§£çš„ç‰ˆæœ¬ï¼š

```java
public ListNode[] splitListToParts2(ListNode root, int k) {
    int length = 0;
    ListNode head = root;
    // å…ˆæ±‚é“¾è¡¨é•¿åº¦
    while (head != null) {
        head = head.next;
        length++;
    }
    // è®¡ç®—æ¯ä»½è‡³å°‘å¤šå°‘ä¸ªç»“ç‚¹
    int everyNum = length / k;
    // è¡¨ç¤ºå‰é¢å¤šå°‘ä»½éœ€è¦å¤šåˆ†ä¸€ä¸ª
    int moreNum = length % k;

    ListNode[] resList = new ListNode[k];
    // å½“å‰æ˜¯ç¬¬å‡ è½®åˆ†é…ç»“ç‚¹
    int cnt = 0;

    while (root != null) {
        // curNumæ˜¯å½“å‰éœ€è¦åˆ†é…å¤šå°‘ä¸ªç»“ç‚¹
        int curNum = everyNum;
        // å‰é¢çš„å‡ ä¸ªéœ€è¦å¤šåˆ†é…ä¸€ä¸ªç»“ç‚¹
        if (moreNum != 0) {
            curNum++;
            moreNum--;
        }
        // å¾€ä¸´æ—¶ç»“ç‚¹ä¸Šä¸æ–­æ·»åŠ é“¾è¡¨
        ListNode tempNode = new ListNode(0);
        ListNode curNode = tempNode;
        while (curNum > 0) {
            curNode.next = root;
            root = root.next;
            curNode = curNode.next;
            curNum--;
        }
        // ä¸åŸæœ¬çš„é“¾æ–­å¼€è¿æ¥
        curNode.next = null;
        resList[cnt] = tempNode.next;
        cnt++;
    }
    return resList;
}
```



#### 143.é‡æ’é“¾è¡¨ã€ä¸­ç­‰ã€‘

##### [1. é¢˜ç›®](https://leetcode-cn.com/problems/reorder-list)

ç»™å®šä¸€ä¸ª**å•é“¾è¡¨ L**ï¼šL0â†’L1â†’â€¦â†’Ln-1â†’Ln ï¼Œå°†å…¶é‡æ–°æ’åˆ—åå˜ä¸ºï¼š L0â†’Lnâ†’L1â†’Ln-1â†’L2â†’Ln-2â†’â€¦

ä¹Ÿå°±æ˜¯**ä¸æ–­ä»é“¾è¡¨ä¸¤è¾¹å–ç»“ç‚¹ç»„åˆå½¢æˆæ–°çš„é“¾è¡¨**ã€‚ä½ ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼ï¼Œè€Œæ˜¯éœ€è¦å®é™…çš„è¿›è¡Œ**èŠ‚ç‚¹äº¤æ¢**ã€‚

```javascript
ç»™å®šé“¾è¡¨ 1->2->3->4, é‡æ–°æ’åˆ—ä¸º 1->4->2->3.
    
ç»™å®šé“¾è¡¨ 1->2->3->4->5, é‡æ–°æ’åˆ—ä¸º 1->5->2->4->3.
```

##### 2. é¢˜è§£

###### (1) çº¿æ€§è¡¨å­˜å‚¨æ³•

é“¾è¡¨çš„ç¼ºç‚¹å°±æ˜¯**ä¸èƒ½éšæœºå­˜å‚¨**ï¼Œå½“æƒ³å–æœ«å°¾å…ƒç´ çš„æ—¶å€™ï¼Œåªèƒ½ä»å¤´éå†ä¸€éï¼Œå¾ˆè€—è´¹æ—¶é—´ã€‚ç¬¬äºŒæ¬¡å–æœ«å°¾å…ƒç´ çš„æ—¶å€™ï¼Œåˆå¾—éå†ä¸€éã€‚æ‰€ä»¥å…ˆæ¥ä¸ªç®€å•ç²—æš´çš„æƒ³æ³•ï¼Œ**æŠŠé“¾è¡¨å­˜å‚¨åˆ°çº¿æ€§è¡¨ä¸­**ï¼Œç„¶åç”¨åŒæŒ‡é’ˆä¾æ¬¡ä»å¤´å°¾å–å…ƒç´ å³å¯ã€‚

###### (2) é€†è½¬ååŠéƒ¨åˆ†æ³•

åˆ©ç”¨ç”±äºæ˜¯**ä¸€å¤´ä¸€å°¾å–å…ƒç´ **çš„ç‰¹ç‚¹ã€‚å…ˆåˆ©ç”¨**å¿«æ…¢æŒ‡é’ˆæ‰¾åˆ°é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹**ã€‚å°†ååŠéƒ¨åˆ†**é“¾è¡¨é€†åº**ï¼ˆå¯ä»¥è¿­ä»£æˆ–è€…é€’å½’é€†åºï¼‰ã€‚æœ€åå°†å‰å**ä¸¤ä¸ªéƒ¨åˆ†çš„é“¾è¡¨äº¤æ›¿è¿æ¥åˆå¹¶èµ·æ¥å³å¯**ã€‚

```java
public void reorderList(ListNode head) {
    // Base case
    if (head == null || head.next == null || head.next.next == null) return;
    // åˆ©ç”¨å¿«æ…¢æŒ‡é’ˆæ‰¾ä¸­ç‚¹ï¼Œé“¾è¡¨åˆ†æˆä¸¤éƒ¨åˆ†
    ListNode slow = head;
    ListNode fast = head;
    while (fast.next != null && fast.next.next != null) {
        slow = slow.next;
        fast = fast.next.next;
    }
    // æ–­å¼€æŒ‡é’ˆã€‚å°†é“¾è¡¨åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†,newHeadä¸ºæ–°çš„é“¾è¡¨çš„å¤´éƒ¨
    ListNode newHead = slow.next;
    slow.next = null;

    // ç¬¬äºŒä¸ªé“¾è¡¨é€†åº
    newHead = reverseList(newHead);

    // é“¾è¡¨èŠ‚ç‚¹ä¾æ¬¡äº¤é”™è¿æ¥åˆå¹¶
    while (newHead != null) {
        ListNode temp = newHead.next;
        newHead.next = head.next;
        head.next = newHead;
        head = newHead.next;
        newHead = temp;
    }
}
// é€†åºä¸€ä¸ªé“¾è¡¨
private ListNode reverseList(ListNode head) {
    if (head == null) {
        return null;
    }
    ListNode tail = head;
    head = head.next;
    tail.next = null;
    while (head != null) {
        ListNode temp = head.next;
        head.next = tail;
        tail = head;
        head = temp;
    }
    return tail;
}
```

#### 2. ä¸¤ä¸ªé“¾è¡¨å½“æˆæ•°å­—ç›¸åŠ ç”Ÿæˆæ–°é“¾è¡¨ã€ä¸­ç­‰ã€‘

##### [1. é¢˜ç›®](https://leetcode-cn.com/problems/add-two-numbers)

ç»™å‡ºä¸¤ä¸ª **éç©º çš„é“¾è¡¨**ç”¨æ¥è¡¨ç¤ºä¸¤ä¸ª**éè´Ÿ**çš„æ•´æ•°ã€‚å…¶ä¸­ï¼Œå®ƒä»¬å„è‡ªçš„ä½æ•°æ˜¯æŒ‰ç…§ **é€†åº çš„æ–¹å¼å­˜å‚¨**çš„ï¼Œå¹¶ä¸”å®ƒä»¬çš„æ¯ä¸ªèŠ‚ç‚¹åªèƒ½å­˜å‚¨ ä¸€ä½ æ•°å­—ã€‚å¦‚æœï¼Œæˆ‘ä»¬å°†è¿™ä¸¤ä¸ªæ•°ç›¸åŠ èµ·æ¥ï¼Œåˆ™ä¼šè¿”å›ä¸€ä¸ªæ–°çš„é“¾è¡¨æ¥è¡¨ç¤ºå®ƒä»¬çš„å’Œã€‚æ‚¨å¯ä»¥å‡è®¾é™¤äº†æ•°å­— 0 ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªæ•°éƒ½ä¸ä¼šä»¥ 0 å¼€å¤´ã€‚

```java
è¾“å…¥ï¼š(2 -> 4 -> 3) + (5 -> 6 -> 4)
è¾“å‡ºï¼š7 -> 0 -> 8
åŸå› ï¼š342 + 465 = 807
```

##### 2. é¢˜è§£

###### (1) ä½¿ç”¨æ ˆ

ä½¿ç”¨ä¸¤ä¸ªæ ˆï¼Œå°†**ä¸¤ä¸ªé“¾è¡¨å‹æ ˆ**ï¼Œç„¶å**é€æ¸å¼¹æ ˆ**ï¼Œä½¿ç”¨ä¸€ä¸ª **ca å˜é‡æ¥ä¿å­˜è¿›ä½**ä¿¡æ¯ã€‚æœ€åæ³¨æ„**æœ€é«˜ä½**æ˜¯å¦æœ‰è¿›ä½ã€‚

```java
public static Node addTwoListWithSatck(Node head1, Node head2) {
    // åˆå§‹åŒ–ä¸¤ä¸ªæ ˆå¹¶æŠŠé“¾è¡¨å‹æ ˆ
    Stack<Integer> stack1 = new Stack<>();
    Stack<Integer> stack2 = new Stack<>();
    while (head1 != null) {
        stack1.push(head1.value);
        head1 = head1.next;
    }
    while (head2 != null) {
        stack2.push(head2.value);
        head2 = head2.next;
    }
    // è®°å½•è¿›ä½ 0-æ— è¿›ä½ 1-æœ‰è¿›ä½
    int ca = 0;
    int n1 = 0;
    int n2 = 0;
    int n = 0;
    Node node = null;
    Node pre = null;
    // ä¸æ–­å¼¹æ ˆ
    while (!stack1.isEmpty() || !stack2.isEmpty()) {
        n1 = stack1.isEmpty() ? 0 : stack1.pop();
        n2 = stack2.isEmpty() ? 0 : stack2.pop();
        // æ±‚ä¸¤ä¸ªä½ç½®çš„å’Œå¹¶åˆ¤æ–­æ˜¯å¦æœ‰è¿›ä½
        n = n1 + n2 + ca;
        pre = node;
        // åªè®°å½•ä¸ªä½
        node = new Node(n % 10);
        node.next = pre;
        // è®°å½•è¿›ä½ä¿¡æ¯
        ca = n / 10;
    }
    // å½“ä¸¤ä¸ªæ ˆéƒ½å¼¹å®Œçœ‹çœ‹è¿›ä½ä¿¡æ¯æ˜¯å¦ä¸º1 æ˜¯åˆ™è¿˜éœ€è¦å†åŠ ä¸€ä¸ªç»“ç‚¹
    if (ca == 1) {
        pre = node;
        node = new Node(1);
        node.next = pre;
    }
    return node;
}
```

ä¸Šè¿°ç©ºé—´å¤æ‚åº¦ä¸º O(N)ã€‚

###### (2) ç›´æ¥ç›¸åŠ æ³•

ç›´æ¥å°†ä¸¤ä¸ªé“¾è¡¨åŠ èµ·æ¥å°±è¡Œäº†ã€‚

````java
public ListNode addTwoNumbers(ListNode list1, ListNode list2) {
    // å¼•å…¥dummyç»“ç‚¹
    ListNode dummy = new ListNode(0);
    ListNode head1 = list1, head2 = list2, cur = dummy;
    // è¿›ä½æ ‡å¿—
    int carry = 0;
    // å½“ä¸¤é“¾è¡¨éƒ½ä¸ºnullæ‰é€€å‡º
    while (head1 != null || head2 != null) {
        // å–é“¾è¡¨çš„å€¼ï¼Œå¦‚æœä¸€ä¸ªå·²ç»ä¸ºnullåˆ™è¿”å›0,è¿™é‡Œæ˜¯é‡ç‚¹
        int value1 = (head1 != null) ? head1.val : 0;
        int value2 = (head2 != null) ? head2.val : 0;
        // å¸¦è¿›ä½å€¼è®¡ç®—å’Œ
        int sum = carry + value1 + value2;
        // å†æ¬¡æ›´æ–°è¿›ä½
        carry = sum / 10;
        // ç”Ÿæˆæ–°çš„ç»“ç‚¹
        cur.next = new ListNode(sum % 10);
        // ç§»åŠ¨cur
        cur = cur.next;
        // å¦‚æœä¸¤ä¸ªé“¾è¡¨éƒ½ä¸ä¸ºnullè¿˜è¦ç»§ç»­ç§»åŠ¨æŒ‡é’ˆè¿›è¡Œä¸‹ä¸€è½®ç›¸åŠ 
        if (head1 != null) head1 = head1.next;
        if (head2 != null) head2 = head2.next;
    }
    // æœ€åè¿˜éœ€è¦å†æ¬¡çœ‹çœ‹è¿›ä½æ ‡å¿—æ˜¯å¦ä¸º1
    if (carry > 0) {
        cur.next = new ListNode(carry);
    }
    return dummy.next;
}
````

#### 61.å¾ªç¯å‘å³æ—‹è½¬é“¾è¡¨ã€ä¸­ç­‰ã€‘

##### [1. é¢˜ç›®](https://leetcode-cn.com/problems/rotate-list)

ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œæ—‹è½¬é“¾è¡¨ï¼Œå°†é“¾è¡¨æ¯ä¸ªèŠ‚ç‚¹å‘**å³ç§»åŠ¨** k ä¸ªä½ç½®ï¼Œå…¶ä¸­ k æ˜¯**éè´Ÿæ•°**ã€‚

```java
è¾“å…¥: 1->2->3->4->5->NULL, k = 2
è¾“å‡º: 4->5->1->2->3->NULL
è§£é‡Š:
å‘å³æ—‹è½¬ 1 æ­¥: 5->1->2->3->4->NULL
å‘å³æ—‹è½¬ 2 æ­¥: 4->5->1->2->3->NULL
```

```java
è¾“å…¥: 0->1->2->NULL, k = 4
è¾“å‡º: 2->0->1->NULL
è§£é‡Š:
å‘å³æ—‹è½¬ 1 æ­¥: 2->0->1->NULL
å‘å³æ—‹è½¬ 2 æ­¥: 1->2->0->NULL
å‘å³æ—‹è½¬ 3 æ­¥: 0->1->2->NULL
å‘å³æ—‹è½¬ 4 æ­¥: 2->0->1->NULL
```

##### 2. é¢˜è§£

###### (1) è¿æ¥æˆç¯æ³•

é“¾è¡¨ä¸­çš„ç‚¹**å·²ç»ç›¸è¿**ï¼Œä¸€æ¬¡æ—‹è½¬æ“ä½œæ„å‘³ç€ï¼š

- å…ˆå°†é“¾è¡¨**é—­åˆæˆç¯**ã€‚
- æ‰¾åˆ°ç›¸åº”çš„ä½ç½®**æ–­å¼€**è¿™ä¸ªç¯ï¼Œç¡®å®šæ–°çš„é“¾è¡¨å¤´å’Œé“¾è¡¨å°¾ã€‚

<img src="assets/e3371c6b03e3c8d3758dcf0b35a45d0a6b39c111373cf7b5bde53e14b6271a04-61.png" alt="61.png" style="zoom: 40%;" />

> æ–°çš„é“¾è¡¨å¤´åœ¨å“ªé‡Œï¼Ÿ

åœ¨ä½ç½® **n-k** å¤„ï¼Œå…¶ä¸­ **n** æ˜¯é“¾è¡¨ä¸­ç‚¹çš„**ä¸ªæ•°**ï¼Œæ–°çš„é“¾è¡¨**å°¾**å°±åœ¨å¤´çš„å‰é¢ï¼Œä½äºä½ç½® **n-k-1**ã€‚

æˆ‘ä»¬è¿™é‡Œå‡è®¾ k < n

> å¦‚æœ k >= n æ€ä¹ˆå¤„ç†ï¼Ÿ

k å¯ä»¥è¢«å†™æˆ k = (k / n) * n + k % n **ä¸¤è€…åŠ å’Œ**çš„å½¢å¼ï¼Œå…¶ä¸­å‰é¢çš„éƒ¨åˆ†**ä¸å½±å“**æœ€ç»ˆçš„ç»“æœï¼Œå› æ­¤**åªéœ€è¦è€ƒè™‘ k % n** çš„éƒ¨åˆ†ï¼Œè¿™ä¸ª**å€¼ä¸€å®šæ¯” n å°**ã€‚

**å–æ¨¡ç›¸å½“äºå¾ªç¯è½¬äº†å‡ åœˆã€‚**

```java
public ListNode rotateRight(ListNode head, int k) {
    // base cases
    if (head == null) return null;
    if (head.next == null) return head;

    // å°†é“¾è¡¨åˆå¹¶æˆç¯å½¢
    ListNode oldTail = head;
    // næ˜¯é“¾è¡¨é•¿åº¦
    int n;
    for(n = 1; oldTail.next != null; n++)
        oldTail = oldTail.next;
    // åˆå¹¶æˆç¯
    oldTail.next = head;

    // æ‰¾åˆ°æ–°çš„å°¾éƒ¨ç»“ç‚¹: (n - k % n - 1)th node
    // æ–°çš„å¤´ç»“ç‚¹: (n - k % n)th node
    ListNode newTail = head;
    for (int i = 0; i < n - k % n - 1; i++) {
        newTail = newTail.next;
    }
    // æ–°çš„å¤´ç»“ç‚¹
    ListNode newHead = newTail.next;

    // æ‰“å¼€è¿™ä¸ªç¯
    newTail.next = null;
    return newHead;
}
```

###### (2) å–æ¨¡æ—‹è½¬æ³•

**ä¸è¿æ¥æˆç¯ã€‚**

1. æ±‚å‡ºé“¾è¡¨çš„**é•¿åº¦ len**ã€‚
2. **k = k % len** å–ä½™å°±æ˜¯éœ€è¦**å³ç§»çš„è·ç¦»**ã€‚
3. **æ‰¾åˆ°å€’æ•°ç¬¬ k ä¸ªä½ç½®**ã€‚å¯ä»¥ä½¿ç”¨**åŒæŒ‡é’ˆæ³•**ã€‚
4. è®°å½•**æ…¢æŒ‡é’ˆ**çš„ next èŠ‚ç‚¹ï¼Œè¿™å°±æ˜¯æœ€åè¦è¿”å›çš„èŠ‚ç‚¹ã€‚

<img src="assets/image-20200531172804670.png" alt="image-20200531172804670" style="zoom:50%;" />

```java
public ListNode rotateRight(ListNode head, int k) {
    // Base case
    if (head == null || k == 0) return head;
    ListNode cur = head;
    int length = 0;
    // æ±‚å‡ºé“¾è¡¨çš„é•¿åº¦
    while (cur != null) {
        cur = cur.next;
        length++;
    }
    // ä»¥lenä¸ºä¸€ä¸ªå‘¨æœŸ
    k = k % length;
    // åˆšå¥½å›åˆ°åŸå¤„
    if (k == 0) return head;
    // ä¿å­˜ä¸€ä¸‹å¤´èŠ‚ç‚¹
    ListNode listNode = head;
    // curé‡æ–°æŒ‡å‘head
    cur = head;
    // å…ˆç§»åŠ¨Kä¸ªç»“ç‚¹ï¼Œä¹Ÿå°±æ˜¯å‰é¢Kä¸ªä¼šæ”¾åˆ°é“¾è¡¨æœ«å°¾
    while (k > 0) {
        k--;
        cur = cur.next;
    }
    while (cur.next != null) {
        head = head.next;
        cur = cur.next;
    }
    // è®°å½•nextçš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯è¿”å›å€¼çš„å¤´ç»“ç‚¹
    ListNode res = head.next;
    // æ–­å¼€è¿æ¥
    head.next = null;
    // åä¸€æ®µçš„æœ«å°¾æŒ‡å‘å‰ä¸€æ®µçš„å¼€å¤´
    cur.next = listNode;
    return res;
}
```



### åˆ é™¤ç»“ç‚¹ç±»é¢˜ç›®

#### 237.åˆ é™¤é“¾è¡¨ç»“ç‚¹ã€ç®€å•ã€‘

##### [1. é¢˜ç›®](https://leetcode-cn.com/problems/delete-node-in-a-linked-list/)

è¯·ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œä½¿å…¶å¯ä»¥åˆ é™¤æŸä¸ª**é“¾è¡¨ä¸­ç»™å®šçš„ï¼ˆéæœ«å°¾ï¼‰èŠ‚ç‚¹**ï¼Œå°†åªè¢«ç»™å®šè¦æ±‚è¢«åˆ é™¤çš„èŠ‚ç‚¹ã€‚

```java
public void deleteNode(ListNode node) {
	// Your Code
}
```

##### 2. é¢˜è§£

æ­¤é¢˜æ˜¯**æ²¡æœ‰ç»™å¤´ç»“ç‚¹**çš„ï¼Œæ¯”è¾ƒç‰¹æ®Šï¼Œ**ä¸èƒ½é€šè¿‡éå†**æ¥æ‰¾åˆ°è¯¥ç»“ç‚¹ã€‚æŒ‰ç…§é¢˜ç›®è¦æ±‚å…ˆ**ç¡®ä¿ä¸æ˜¯å°¾ç»“ç‚¹**ï¼Œç„¶åç”¨è¯¥ç»“ç‚¹çš„**ä¸‹ä¸€ä¸ªç»“ç‚¹çš„==å€¼è¦†ç›–==**æ‰è¦åˆ é™¤å…ƒç´ çš„å€¼ï¼Œæœ€åå†**å°†é‡å¤å…ƒç´ æ–­é“¾**å³è¾¾åˆ°äº†åˆ é™¤é‡å¤ç»“ç‚¹çš„æ–¹æ³•ã€‚

```java
public void deleteNode(ListNode node) {
    // å¦‚æœä¸ºnullåˆ™æŠ›å‡ºå¼‚å¸¸, å¹¶ç¡®ä¿nodeä¸æ˜¯å°¾èŠ‚ç‚¹ï¼ˆé¢˜ç›®ä¹Ÿè¯´äº†ä¸æ˜¯å°¾ç»“ç‚¹ï¼‰
    if (node == null || node.next == null) {
        throw new IllegalArgumentException("node should be valid and can not be the tail node");
    }
    // å°†nodeåé¢ç»“ç‚¹çš„å€¼è¦†ç›–æ‰nodeçš„å€¼
    node.val = node.next.val;
    // å†å°†é‡å¤çš„é‚£ä¸ªç»“ç‚¹æ–­é“¾å³å¯
    node.next = node.next.next;
}
```

#### 203.åˆ é™¤ç­‰äºæŸä¸ªå€¼çš„å…¨éƒ¨èŠ‚ç‚¹ã€ç®€å•ã€‘

##### [1. é¢˜ç›®](https://leetcode-cn.com/problems/remove-linked-list-elements/)

åˆ é™¤é“¾è¡¨ä¸­ç­‰äºç»™å®šå€¼ **val** çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚

```
è¾“å…¥: 1->2->6->3->4->5->6, val = 6
è¾“å‡º: 1->2->3->4->5
```

##### 2. é¢˜è§£

ç”±äºå¯èƒ½éœ€è¦åˆ é™¤å¤´ç»“ç‚¹ï¼Œ**å¼•å…¥ dummy èŠ‚ç‚¹**ã€‚éœ€è¦æ³¨æ„å‡ ç§ç‰¹æ®Šæƒ…å†µï¼Œä¸€æ˜¯**åˆ é™¤å¤´ç»“ç‚¹**ï¼ŒäºŒæ˜¯éœ€è¦åˆ é™¤çš„èŠ‚ç‚¹è¿åœ¨ä¸€èµ·ï¼Œä¸‰æ˜¯åˆ é™¤æœ«å°¾èŠ‚ç‚¹ã€‚

```java
public ListNode removeElements(ListNode head, int val) {
    // Base case
    if(head == null) return head;
    // å¯èƒ½åˆ é™¤å¤´ç»“ç‚¹ï¼Œå¼•å…¥dummyèŠ‚ç‚¹
    ListNode dummy = new ListNode(0);
    ListNode cur = dummy;
    // éå†ä¸€æ¬¡é“¾è¡¨å³å¯
    while (head != null) {
        // å¦‚æœæ˜¯è¿˜è¦çš„ç»“ç‚¹å°±æ¥åˆ°dummyåé¢
        if (head.val != val) {
            cur.next = head;
            head = head.next;
            cur = cur.next;
            cur.next = null;
            // å€¼ç›¸åŒç›´æ¥ä¸ç®¡äº†
        } else {
            head = head.next;
        }
    }
    return dummy.next;
}
```

#### 83.åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ ã€ç®€å•ã€‘

##### [1. é¢˜ç›®](https://leetcode-cn.com/problems/remove-duplicates-from-sorted-list)

ç»™å®šä¸€ä¸ª**æ’åºé“¾è¡¨**ï¼Œåˆ é™¤**æ‰€æœ‰é‡å¤**çš„å…ƒç´ ï¼Œä½¿å¾—æ¯ä¸ªå…ƒç´ **åªå‡ºç°ä¸€æ¬¡**ã€‚

```java
è¾“å…¥: 1->1->2
è¾“å‡º: 1->2

è¾“å…¥: 1->1->2->3->3
è¾“å‡º: 1->2->3
```

##### 2. é¢˜è§£

è§£æ³•è·Ÿä¸Šä¸€ä¸ªç±»ä¼¼ã€‚ç›´æ¥**è¿­ä»£éå†**ï¼Œå¯¹æ¯”**å½“å‰å€¼å’Œä¸‹ä¸€ä¸ªç»“ç‚¹**çš„å€¼ï¼Œå¦‚æœ**ç›¸åŒåˆ™è·³è¿‡ä¸‹ä¸€ä¸ªç»“ç‚¹**ï¼Œå¦‚æœä¸åŒåˆ™ç§»åŠ¨å½“å‰èŠ‚ç‚¹åˆ°ä¸‹ä¸€ä¸ªã€‚

<img src="assets/87a5f06f4a257e5970af228ea0c37b1b1513d5b53770da8d409616a5fd9afaa5-frame_00002.png" alt="img" style="zoom:50%;" />

è¿™é‡Œå¤´ç»“ç‚¹æ˜¯è‚¯å®šä¿ç•™çš„ï¼Œæ‰€ä»¥ä¸ç”¨ dummy ç»“ç‚¹ã€‚

```java
public ListNode deleteDuplicates(ListNode head) {
    ListNode cur = head;
    while(cur != null && cur.next != null) {
        // ç»“ç‚¹å€¼ç›¸åŒåˆ™åˆ é™¤é‡å¤ç»“ç‚¹
        if(cur.val == cur.next.val) {
            cur.next = cur.next.next;
            // ç»“ç‚¹å€¼ä¸åŒåˆ™ç›´æ¥åç§»ä¸€ä¸ªç»“ç‚¹
        } else {
            cur = cur.next;
        }
    }
    return head;
}
```

è‡ªå·±å†™çš„ç‰ˆæœ¬ï¼šåˆ¤æ–­å½“å‰dummyé“¾è¡¨çš„æœ€åä¸€ä¸ªç»“ç‚¹æ˜¯å¦æ˜¯å½“å‰headçš„å€¼ï¼Œå¦‚æœæ˜¯å°±å¿½ç•¥ï¼Œä¸æ˜¯å°±åŠ å…¥è¿™ä¸ªheadç»“ç‚¹ã€‚

```java
public ListNode deleteDuplicates2(ListNode head) {

    if(head == null || head.next == null) return head;
    // å¼•å…¥dummyç»“ç‚¹
    ListNode dummy = new ListNode(Integer.MAX_VALUE);
    ListNode cur = dummy;

    while (head != null) {
        // åˆ¤æ–­å½“å‰dummyé“¾è¡¨çš„æœ€åä¸€ä¸ªç»“ç‚¹æ˜¯å¦æ˜¯å½“å‰headçš„å€¼ï¼Œå¦‚æœæ˜¯å°±å¿½ç•¥ï¼Œä¸æ˜¯å°±åŠ å…¥è¿™ä¸ªheadç»“ç‚¹
        if(cur.val != head.val) {
            cur.next = head;
            head = head.next;
            cur = cur.next;
            // æ–­å¼€æŒ‡é’ˆ
            cur.next = null;
        } else {
            head = head.next;
        }
    }
    return dummy.next;
}
```

#### 82. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ IIã€ä¸­ç­‰ã€‘

##### [1. é¢˜ç›®](https://leetcode-cn.com/problems/remove-duplicates-from-sorted-list-ii)

ç»™å®šä¸€ä¸ª**æ’åºé“¾è¡¨**ï¼Œåˆ é™¤æ‰€æœ‰å«æœ‰**é‡å¤æ•°å­—**çš„èŠ‚ç‚¹ï¼Œåªä¿ç•™åŸå§‹é“¾è¡¨ä¸­ **æ²¡æœ‰é‡å¤å‡ºç°** çš„æ•°å­—ã€‚

```java
è¾“å…¥: 1->2->3->3->4->4->5
è¾“å‡º: 1->2->5

è¾“å…¥: 1->1->1->2->3
è¾“å‡º: 2->3
```

##### 2. é¢˜è§£

è¿­ä»£**æ»‘åŠ¨çª—å£**è§£å†³ã€‚ä¸é“¾è¡¨çš„å…¶ä»–é¢˜ç›®ç±»ä¼¼ï¼Œä¸ºäº†é˜²æ­¢**åˆ é™¤å¤´ç»“ç‚¹çš„æç«¯**æƒ…å†µå‘ç”Ÿï¼Œå…ˆåˆ›å»ºç©ºç»“ç‚¹ **dummy**ï¼Œä½¿ dummy æŒ‡å‘ä¼ å…¥çš„ head ç»“ç‚¹ã€‚ç„¶ååˆ›å»º **cur** çš„æŒ‡é’ˆï¼ŒæŒ‡å‘é“¾è¡¨çš„**å¤´éƒ¨**ï¼ˆå³ dummyï¼‰ã€‚æ¥ç€å¯¹ cur æŒ‡é’ˆ**è¿­ä»£**ï¼Œå› ä¸ºè¦å¯¹æ¯” cur( cur æœ€åˆå§‹çš„å®šä¹‰æŒ‡å‘ç©ºç»“ç‚¹)æŒ‡é’ˆçš„**ä¸‹ä¸€ä¸ªç»“ç‚¹ä¸ä¸‹ä¸‹ä¸€ä¸ªç»“ç‚¹çš„å€¼**æ˜¯å¦ç›¸ç­‰ï¼Œä¸ºäº†é˜²æ­¢äº§ç”Ÿç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œæ•…**é€€å‡ºè¿­ä»£çš„æ¡ä»¶**ä¸ºï¼š**cur.next != null && cur.next.next != null**ã€‚åœ¨è¿­ä»£è¿‡ç¨‹ä¸­ï¼Œå¦‚æœ **cur.next.val == cur.next.next.val** è¯´æ˜æ­¤æ—¶**æœ‰é‡å¤å…ƒç´ **ï¼Œæ­¤æ—¶åˆ›å»ºä¸€ä¸ª**ä¸´æ—¶æŒ‡é’ˆ temp**ï¼ŒæŒ‡å‘ cur çš„**ä¸‹ä¸€ä¸ªèŠ‚ç‚¹**ï¼Œå³temp æŒ‡å‘çš„**ç¬¬ä¸€ä¸ªé‡å¤å…ƒç´ **æ‰€åœ¨çš„ä½ç½®ã€‚é€šè¿‡ while å¾ªç¯**å»é‡**ï¼Œå»é‡åï¼Œtemp æŒ‡å‘çš„æ˜¯**é‡å¤å…ƒç´ ä¸­çš„æœ€åä¸€ä¸ªä½ç½®**ã€‚æœ€å cur.next = temp.next å°±å®ç°äº†**æ¶ˆé™¤**é‡å¤å…ƒç´ ã€‚å½“ç„¶ï¼Œå¦‚æœä¸ºå‘ç°é‡å¤å…ƒç´ ï¼Œåˆ™ç›´æ¥å‘åè¿­ä»£å³å¯ã€‚è¿­ä»£å®Œæˆåï¼Œè¿”å› dummy çš„ nextã€‚

```java
public ListNode deleteDuplicates(ListNode head) {
    // å¯èƒ½è¦åˆ æ‰å¤´ç»“ç‚¹-å¼•å…¥dummyç»“ç‚¹
    ListNode dummy = new ListNode(0);
    dummy.next = head;
    // ç»´æŠ¤ä¸€ä¸ªéå†æŒ‡é’ˆ
    ListNode cur = dummy;
    // è¿­ä»£é€€å‡ºæ¡ä»¶
    while (cur.next != null && cur.next.next != null) {
        // è¯´æ˜æ­¤æ—¶åé¢çš„ç»“ç‚¹æœ‰é‡å¤
        if (cur.next.val == cur.next.next.val) {
            // æ¥ä¸€ä¸ªä¸´æ—¶èŠ‚ç‚¹
            ListNode temp = cur.next;
            // å¾ªç¯å»é‡ ç›´åˆ°tempæŒ‡å‘é‡å¤å…ƒç´ çš„æœ€åä¸€ä¸ª
            while (temp != null && temp.next != null && temp.val == temp.next.val) {
                temp = temp.next;
            }
            // ç§»åŠ¨curè¿›è¡Œå»é‡å³å¯
            cur.next = temp.next;
            // æ²¡æœ‰é‡å¤åˆ™ç§»åŠ¨æŒ‡é’ˆ
        } else {
            cur = cur.next;
        }
    }
    return dummy.next;
}
```

#### 19.åˆ é™¤é“¾è¡¨å€’æ•°ç¬¬Kä¸ªç»“ç‚¹ã€ä¸­ç­‰ã€‘

##### [1. é¢˜ç›®](https://leetcode-cn.com/problems/remove-nth-node-from-end-of-list)

ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œåˆ é™¤é“¾è¡¨çš„**å€’æ•°ç¬¬ n ä¸ª**èŠ‚ç‚¹ï¼Œå¹¶ä¸”è¿”å›é“¾è¡¨çš„**å¤´ç»“ç‚¹**ã€‚

```
ç»™å®šä¸€ä¸ªé“¾è¡¨: 1->2->3->4->5, å’Œ n = 2. å½“åˆ é™¤äº†å€’æ•°ç¬¬äºŒä¸ªèŠ‚ç‚¹åï¼Œé“¾è¡¨å˜ä¸º 1->2->3->5.
```

è¯´æ˜ï¼šç»™å®šçš„ n ä¿è¯æ˜¯**æœ‰æ•ˆ**çš„ã€‚è¿›é˜¶ï¼šä½ èƒ½å°è¯•ä½¿ç”¨**ä¸€è¶Ÿæ‰«æ**å®ç°å—ï¼Ÿ

##### 2. é¢˜è§£

###### (1) ä¸¤æ¬¡éå†æ³•

**åˆ é™¤å€’æ•°ç¬¬ K ä¸ªç»“ç‚¹**ï¼Œä¹Ÿå°±æ˜¯åˆ é™¤ä»åˆ—è¡¨å¼€å¤´æ•°èµ·çš„ç¬¬ **(L - n + 1ï¼‰**ä¸ªç»“ç‚¹ï¼Œå…¶ä¸­ L æ˜¯åˆ—è¡¨çš„**é•¿åº¦**ã€‚åªè¦æ‰¾åˆ°åˆ—è¡¨çš„é•¿åº¦ ï¼Œè¿™ä¸ªé—®é¢˜å°±å¾ˆå®¹æ˜“è§£å†³ã€‚

<img src="assets/a476f4e932fa4499e22902dcb18edba41feaf9cfe4f17869a90874fbb1fd17f5-file_1555694537876.png" alt="Remove the nth element from a list" style="zoom: 80%;" />

```java
public ListNode removeNthFromEnd(ListNode head, int n) {
    // å¼•å…¥dummyç»“ç‚¹
    ListNode dummy = new ListNode(0);
    // å°†å¤´ç»“ç‚¹è®¾ç½®ä¸ºç¬¬äºŒä¸ªç»“ç‚¹
    dummy.next = head;
    // é¦–å…ˆéå†æ‰¾é“¾è¡¨é•¿åº¦
    int length  = 0;
    ListNode first = head;
    while (first != null) {
        length++;
        first = first.next;
    }
    length = length - n;
    first = dummy;
    while (length > 0) {
        length--;
        first = first.next;
    }
    // åˆ é™¤ç»“ç‚¹
    first.next = first.next.next;
    return dummy.next;
}
```

###### (2) åŒæŒ‡é’ˆå•æ¬¡éå†æ³•

ä¸Šè¿°ç®—æ³•å¯ä»¥ä¼˜åŒ–ä¸ºåªä½¿ç”¨**ä¸€æ¬¡éå†**ã€‚å¯ä»¥ä½¿ç”¨**ä¸¤ä¸ªæŒ‡é’ˆ**è€Œä¸æ˜¯ä¸€ä¸ªæŒ‡é’ˆã€‚ç¬¬ä¸€ä¸ªæŒ‡é’ˆä»åˆ—è¡¨çš„å¼€å¤´**å‘å‰ç§»åŠ¨** n+1 æ­¥ï¼Œè€Œç¬¬äºŒä¸ªæŒ‡é’ˆå°†ä»åˆ—è¡¨çš„**å¼€å¤´å‡ºå‘**ã€‚ç°åœ¨ï¼Œè¿™ä¸¤ä¸ªæŒ‡é’ˆ**è¢« n ä¸ªç»“ç‚¹åˆ†å¼€**ã€‚é€šè¿‡**åŒæ—¶ç§»åŠ¨ä¸¤ä¸ªæŒ‡é’ˆå‘å‰æ¥ä¿æŒè¿™ä¸ªæ’å®šçš„é—´éš”**ï¼Œç›´åˆ°**ç¬¬ä¸€ä¸ªæŒ‡é’ˆåˆ°è¾¾æœ€åä¸€ä¸ªç»“ç‚¹**ã€‚æ­¤æ—¶**ç¬¬äºŒä¸ªæŒ‡é’ˆ**å°†æŒ‡å‘ä»æœ€åä¸€ä¸ªç»“ç‚¹æ•°èµ·çš„**ç¬¬ n ä¸ªç»“ç‚¹**ã€‚é‡æ–°é“¾æ¥ç¬¬äºŒä¸ªæŒ‡é’ˆæ‰€å¼•ç”¨çš„ç»“ç‚¹çš„ next æŒ‡é’ˆæŒ‡å‘è¯¥ç»“ç‚¹çš„ä¸‹ä¸‹ä¸ªç»“ç‚¹ã€‚

<img src="assets/cc43daa8cbb755373ce4c5cd10c44066dc770a34a6d2913a52f8047cbf5e6e56-file_1559548337458.gif" alt="img" style="zoom: 50%;" />

è¿™ä¸ªæ–¹æ³•ä¸é”™ï¼Œè®°ä½ï¼

```java
public ListNode removeNthFromEnd(ListNode head, int n) {
    // å¼•å…¥Dummyç»“ç‚¹
    ListNode dummy = new ListNode(0);
    dummy.next = head;
    ListNode first = dummy;
    ListNode second = dummy;
    // FirstæŒ‡é’ˆå…ˆèµ°Næ­¥
    for (int i = 1; i <= n + 1; i++) {
        first = first.next;
    }
    // å½“ç¬¬ä¸€ä¸ªFirstæŒ‡é’ˆåˆ°è¾¾nullæ—¶ï¼Œåœæ­¢
    while (first != null) {
        first = first.next;
        second = second.next;
    }
    // æ­¤æ—¶SecondæŒ‡é’ˆçš„ä¸‹ä¸€ä¸ªç»“ç‚¹å°±æ˜¯éœ€è¦åˆ é™¤çš„ç»“ç‚¹
    second.next = second.next.next;
    return dummy.next;
}
```



### ç»“ç‚¹æœç´¢å®šä½ç±»é¢˜ç›®

#### 876.å¯»æ‰¾é“¾è¡¨ä¸­é—´ç»“ç‚¹ã€ç®€å•ã€‘

##### [1. é¢˜ç›®](https://leetcode-cn.com/problems/middle-of-the-linked-list)

ç»™å®šä¸€ä¸ªå¸¦æœ‰**å¤´ç»“ç‚¹** head çš„éç©ºå•é“¾è¡¨ï¼Œè¿”å›é“¾è¡¨çš„**ä¸­é—´ç»“ç‚¹**ã€‚å¦‚æœæœ‰ä¸¤ä¸ªä¸­é—´ç»“ç‚¹ï¼Œåˆ™è¿”å›**ç¬¬äºŒä¸ªä¸­é—´ç»“ç‚¹**ã€‚

```java
è¾“å…¥ï¼š[1,2,3,4,5]
è¾“å‡ºï¼šæ­¤åˆ—è¡¨ä¸­çš„ç»“ç‚¹ 3 (åºåˆ—åŒ–å½¢å¼ï¼š[3,4,5])
è¿”å›çš„ç»“ç‚¹å€¼ä¸º 3 ã€‚ (æµ‹è¯„ç³»ç»Ÿå¯¹è¯¥ç»“ç‚¹åºåˆ—åŒ–è¡¨è¿°æ˜¯ [3,4,5])ã€‚
æ³¨æ„ï¼Œè¿”å›äº†ä¸€ä¸ª ListNode ç±»å‹çš„å¯¹è±¡ ansï¼Œè¿™æ ·ï¼š
ans.val = 3, ans.next.val = 4, ans.next.next.val = 5, ä»¥åŠ ans.next.next.next = NULL.
    
è¾“å…¥ï¼š[1,2,3,4,5,6]
è¾“å‡ºï¼šæ­¤åˆ—è¡¨ä¸­çš„ç»“ç‚¹ 4 (åºåˆ—åŒ–å½¢å¼ï¼š[4,5,6]) è¯¥åˆ—è¡¨æœ‰ä¸¤ä¸ªä¸­é—´ç»“ç‚¹ï¼Œå€¼åˆ†åˆ«ä¸º3å’Œ4ï¼Œè¿”å›ç¬¬äºŒä¸ªç»“ç‚¹ã€‚
```

##### 2. é¢˜è§£

###### (1) å•æŒ‡é’ˆæ³•

ä½¿ç”¨å•ä¸ªæŒ‡é’ˆï¼Œ**éå†ä¸¤æ¬¡**å³å¯ã€‚

```java
public ListNode middleNode(ListNode head) {
    // ç¬¬ä¸€æ¬¡éå†æ±‚é“¾è¡¨é•¿åº¦
    int n = 0;
    ListNode cur = head;
    while (cur != null) {
        ++n;
        cur = cur.next;
    }
    // ç¬¬äºŒæ¬¡éå†åªèµ°ä¸€åŠ
    int k = 0;
    cur = head;
    while (k < n / 2) {
        ++k;
        cur = cur.next;
    }
    return cur;
}
```

###### (3) åŒæŒ‡é’ˆæ³•

ä½¿ç”¨**å¿«æ…¢åŒæŒ‡é’ˆ**ï¼Œå¿«æŒ‡é’ˆä¸€æ¬¡èµ°ä¸¤æ­¥ï¼Œæ…¢æŒ‡é’ˆä¸€æ¬¡èµ°ä¸€æ­¥ã€‚**å½“å¿«æŒ‡é’ˆåˆ°é“¾å°¾éƒ¨ï¼Œæ…¢æŒ‡é’ˆå°±åœ¨ä¸­é—´äº†ã€‚**

<img src="assets/2b7a4130111600cf615b5584b3cc7f863d289a9a7d43b90147c79f51f68a5aa6-876-1.png" alt="876-1.png" style="zoom: 33%;" />

```java
public ListNode middleNode(ListNode head) {
    // åˆå§‹æ—¶å¿«æ…¢æŒ‡é’ˆéƒ½åœ¨å¤´éƒ¨
    ListNode slow = head, fast = head;
    // è¿­ä»£é€€å‡ºæ¡ä»¶
    while (fast != null && fast.next != null) {
        // å¿«æ…¢æŒ‡é’ˆå„è‡ªç§»åŠ¨
        slow = slow.next;
        fast = fast.next.next;
    }
    return slow;
}
```



### æ’åºç±»é¢˜ç›®

#### 147.é“¾è¡¨çš„æ’å…¥æ’åºã€ä¸­ç­‰ã€‘

##### [1. é¢˜ç›®](https://leetcode-cn.com/problems/insertion-sort-list/)

å¯¹é“¾è¡¨è¿›è¡Œ**æ’å…¥æ’åº**ã€‚

```
è¾“å…¥: 4->2->1->3
è¾“å‡º: 1->2->3->4
```

##### 2. é¢˜è§£

ä¸ä¼ ç»Ÿæ’å…¥æ’åºä¸åŒï¼Œ**æ— æ³•**å¯¹å·²æ’åºé“¾è¡¨**ä»å°¾è‡³é¦–éå†**è¿›è¡Œæ’å…¥ã€‚

- ä¸ºé“¾è¡¨å¢åŠ ä¸€ä¸ªå¤´éƒ¨ï¼Œå…¶å€¼ä¸º**æ— ç©·å°**ã€‚
- å¯¹å·²æ’åºé“¾è¡¨éƒ¨åˆ†**ä»é¦–è‡³å°¾**éå†ï¼Œæ‰¾åˆ°æ‰€æœ‰**å°äºå½“å‰éå†å…ƒç´ çš„ä½ç½®**ï¼Œè¿›è¡Œé“¾è¡¨çš„**å°¾éƒ¨æ’å…¥**ã€‚
- å°†"**å·²æ’åºé“¾è¡¨éƒ¨åˆ†**"->"**å¾…æ’åºé“¾è¡¨éƒ¨åˆ†**"è¿›è¡Œ**æ‹¼æ¥**ã€‚

<img src="assets/image-20200531172854206.png" alt="image-20200531172854206" style="zoom:67%;" />

 ```java
public ListNode insertionSortList(ListNode head) {
    // å¼•å…¥dummyç»“ç‚¹å¹¶è®¾ç½®å€¼ä¸ºæœ€å°å€¼
    ListNode dummyHead = new ListNode(Integer.MIN_VALUE);
    dummyHead.next = head;
    ListNode temp;
    ListNode cur = dummyHead;
    // æŒ‡å‘é“¾å°¾
    ListNode end = head;
    // å¤–å±‚å¾ªç¯, éå†éæœ‰åºçš„é“¾è¡¨
    while(cur.next != null){
        // å½“å‰çš„moveç»“ç‚¹çš„å€¼ä¸endç»“ç‚¹çš„å€¼æ˜¯æœ‰åºæ—¶, moveå’Œendå¾€åç§»ä¸€ä½
        if(end.val <= cur.next.val){
            end = cur.next;
            cur = cur.next;
        } else {
            // headç”¨æ¥éå†æœ‰åºé“¾è¡¨, å¯»æ‰¾å½“å‰moveç»“ç‚¹åº”è¯¥æ’å…¥çš„ä½ç½®
            head = dummyHead;
            // whileå¾ªç¯æ‰¾åˆ°å½“å‰moveç»“ç‚¹çš„æ­£ç¡®ä½ç½®
            while(head.next.val < cur.next.val && head.next != cur.next){
                head = head.next;
            }
            // å½“whileå¾ªç¯ç»“æŸæ—¶, headç»“ç‚¹çš„ä¸‹ä¸€ä¸ªç»“ç‚¹å°±æ˜¯å½“å‰moveç»“ç‚¹åº”è¯¥æ’å…¥çš„ä½ç½®
            // åœ¨æ­£ç¡®ä½ç½®å°†moveç»“ç‚¹æ’å…¥
            temp = cur.next;
            cur.next = cur.next.next;
            temp.next = head.next;
            head.next = temp;
        }
    }
    // æœ€åè¿”å›å“¨å…µdummyHeadç»“ç‚¹çš„ä¸‹ä¸€ä¸ªç»“ç‚¹å³å¯
    return dummyHead.next;
}
 ```

#### 148.æ’åºé“¾è¡¨ã€ä¸­ç­‰ã€‘

##### [1. é¢˜ç›®](https://leetcode-cn.com/problems/sort-list)

åœ¨ **O(n log n)** æ—¶é—´å¤æ‚åº¦å’Œ**å¸¸æ•°çº§ç©ºé—´**å¤æ‚åº¦ä¸‹ï¼Œå¯¹**é“¾è¡¨è¿›è¡Œæ’åº**ã€‚

```java
è¾“å…¥: 4->2->1->3
è¾“å‡º: 1->2->3->4

è¾“å…¥: -1->5->3->4->0
è¾“å‡º: -1->0->3->4->5
```

##### 2. é¢˜è§£

###### (1) å½’å¹¶æ’åºï¼ˆé€’å½’æ³•ï¼‰

å‰é¢çš„é“¾è¡¨æ’å…¥æ’åºä¹Ÿæ˜¯å¯ä»¥æ’åºï¼Œä½†æ˜¯å¤æ‚åº¦æ¯”è¾ƒé«˜ã€‚O(n log n) å¯ä»¥è”ç³»åˆ°å½’å¹¶æ’åºï¼Ÿæ ¹æ®æ—¶é—´å¤æ‚åº¦æˆ‘ä»¬è‡ªç„¶æƒ³åˆ°**äºŒåˆ†æ³•**ï¼Œä»è€Œè”æƒ³åˆ°**å½’å¹¶**æ’åºã€‚

â‘  **åˆ†å‰² cut ç¯èŠ‚**ï¼š æ‰¾åˆ°å½“å‰é“¾è¡¨**ä¸­ç‚¹**ï¼Œå¹¶ä»ä¸­ç‚¹å°†é“¾è¡¨**æ–­å¼€**ï¼ˆä»¥ä¾¿åœ¨ä¸‹æ¬¡é€’å½’ cut æ—¶ï¼Œé“¾è¡¨ç‰‡æ®µæ‹¥æœ‰**æ­£ç¡®è¾¹ç•Œ**ï¼‰ï¼›
æˆ‘ä»¬ä½¿ç”¨ fast , slow å¿«æ…¢**åŒæŒ‡é’ˆæ³•**ï¼Œ**å¥‡æ•°ä¸ªèŠ‚ç‚¹æ‰¾åˆ°ä¸­ç‚¹**ï¼Œå¶æ•°ä¸ªèŠ‚ç‚¹æ‰¾åˆ°**ä¸­å¿ƒå·¦è¾¹çš„èŠ‚ç‚¹**ã€‚æ‰¾åˆ°ä¸­ç‚¹ slow åï¼Œæ‰§è¡Œ slow.next = null å°†é“¾è¡¨**åˆ‡æ–­**ã€‚é€’å½’åˆ†å‰²æ—¶ï¼Œè¾“å…¥å½“å‰é“¾è¡¨å·¦ç«¯ç‚¹ head å’Œä¸­å¿ƒèŠ‚ç‚¹ slow çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ tmp (å› ä¸ºé“¾è¡¨æ˜¯ä» slow åˆ‡æ–­çš„)ã€‚cut é€’å½’ç»ˆæ­¢æ¡ä»¶ï¼š å½“ head.next == null æ—¶ï¼Œè¯´æ˜åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹äº†ï¼Œç›´æ¥è¿”å›æ­¤èŠ‚ç‚¹ã€‚

â‘¡ **åˆå¹¶ merge ç¯èŠ‚**ï¼š å°†ä¸¤ä¸ª**æ’åºé“¾è¡¨åˆå¹¶**ï¼Œè½¬åŒ–ä¸ºä¸€ä¸ªæ’åºé“¾è¡¨ã€‚**åŒæŒ‡é’ˆæ³•åˆå¹¶**ï¼Œå»ºç«‹è¾…åŠ© ListNode h ä½œä¸ºå¤´éƒ¨ã€‚è®¾ç½®ä¸¤æŒ‡é’ˆ left, right åˆ†åˆ«æŒ‡å‘**ä¸¤é“¾è¡¨å¤´éƒ¨**ï¼Œæ¯”è¾ƒä¸¤æŒ‡é’ˆå¤„èŠ‚ç‚¹å€¼å¤§å°ï¼Œç”±å°åˆ°å¤§åŠ å…¥åˆå¹¶é“¾è¡¨å¤´éƒ¨ï¼ŒæŒ‡é’ˆ**äº¤æ›¿å‰è¿›**ï¼Œç›´è‡³**æ·»åŠ å®Œä¸¤ä¸ªé“¾è¡¨**ã€‚è¿”å›è¾…åŠ© ListNode h ä½œä¸ºå¤´éƒ¨çš„ä¸‹ä¸ªèŠ‚ç‚¹ h.nextã€‚æ—¶é—´å¤æ‚åº¦ **O(l + r)**ï¼Œl, r åˆ†åˆ«ä»£è¡¨**ä¸¤ä¸ªé“¾è¡¨é•¿åº¦**ã€‚

â‘¢ å½“é¢˜ç›®è¾“å…¥çš„ head == null æ—¶ï¼Œç›´æ¥è¿”å› nullã€‚

<img src="assets/8c47e58b6247676f3ef14e617a4686bc258cc573e36fcf67c1b0712fa7ed1699-Picture2.png" alt="Picture2.png" style="zoom: 40%;" />

```java
public ListNode sortList(ListNode head) {
    // Base case
    if(head == null || head.next == null) return head;
    // ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆå¯»æ‰¾é“¾è¡¨ä¸­é—´èŠ‚ç‚¹
    ListNode slow, fast;
    slow = head; fast = head.next;
    while(fast != null && fast.next != null){
        head = head.next; fast = fast.next.next;
    }
    fast = head.next; head.next = null;
    // åˆ†æ²»ï¼Œé€’å½’è°ƒç”¨
    ListNode slowTemp = sortList(slow);
    ListNode fastTemp = sortList(fast);
    return merge(slowTemp, fastTemp);
}

// å½’å¹¶æ“ä½œ-åˆå¹¶ä¸¤ä¸ªæ’åºé“¾è¡¨
ListNode merge(ListNode a, ListNode b){
    ListNode dummy = new ListNode(0);
    ListNode head = dummy;
    while(a != null && b != null){
        if (a.val < b.val){
            dummy.next = a; dummy = a; a = a.next;
        } else {
            dummy.next = b; dummy = b; b = b.next;
        }
    }
    dummy.next = (a == null) ? b : a;
    return head.next;
}
```



### é“¾è¡¨ç›¸äº¤ä¸ç¯ç±»é—®é¢˜

#### ğŸ’¯141.åˆ¤æ–­é“¾è¡¨æ˜¯å¦æœ‰ç¯ã€ç®€å•ã€‘

##### [1. é¢˜ç›®](https://leetcode-cn.com/problems/linked-list-cycle/)

ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œåˆ¤æ–­é“¾è¡¨ä¸­**æ˜¯å¦æœ‰ç¯ã€‚**

<img src="assets/circularlinkedlist.png" alt="img" style="zoom: 62%;" />

##### 2. é¢˜è§£

###### (1) å“ˆå¸Œè¡¨æ³•

å¯ä»¥é€šè¿‡æ£€æŸ¥ä¸€ä¸ªç»“ç‚¹æ­¤å‰**æ˜¯å¦è¢«è®¿é—®è¿‡**æ¥åˆ¤æ–­é“¾è¡¨æ˜¯å¦ä¸ºç¯å½¢é“¾è¡¨ã€‚å¸¸ç”¨çš„æ–¹æ³•æ˜¯ä½¿ç”¨**å“ˆå¸Œè¡¨**ã€‚

**æ—¶é—´å¤æ‚åº¦ï¼šO(n)**ï¼Œå¯¹äºå«æœ‰ n ä¸ªå…ƒç´ çš„é“¾è¡¨ï¼Œæ¯ä¸ªå…ƒç´ è®¿é—®æœ€å¤šä¸€æ¬¡ã€‚æ·»åŠ ä¸€ä¸ªç»“ç‚¹åˆ°å“ˆå¸Œè¡¨ä¸­åªéœ€è¦èŠ±è´¹ O(1) çš„æ—¶é—´ã€‚**ç©ºé—´å¤æ‚åº¦ï¼šO(n)**ï¼Œç©ºé—´å–å†³äºæ·»åŠ åˆ°å“ˆå¸Œè¡¨ä¸­çš„å…ƒç´ æ•°ç›®ï¼Œæœ€å¤šå¯ä»¥æ·»åŠ  n ä¸ªå…ƒç´ ã€‚

```java
public boolean hasCycle(ListNode head) {
    Set<ListNode> nodesSeen = new HashSet<>();
    while (head != null) {
        if (nodesSeen.contains(head)) {
            return true;
        } else {
            nodesSeen.add(head);
        }
        // éå†æŒ‡é’ˆ
        head = head.next;
    }
    return false;
}
```

###### (2) å¿«æ…¢åŒæŒ‡é’ˆæ³•

ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆã€‚é€šè¿‡ä½¿ç”¨å…·æœ‰ **ä¸åŒé€Ÿåº¦** çš„å¿«ã€æ…¢ä¸¤ä¸ªæŒ‡é’ˆéå†é“¾è¡¨ï¼Œ**ç©ºé—´å¤æ‚åº¦å¯ä»¥è¢«é™ä½è‡³ O(1ï¼‰**ã€‚**æ…¢æŒ‡é’ˆæ¯æ¬¡ç§»åŠ¨ä¸€æ­¥ï¼Œè€Œå¿«æŒ‡é’ˆæ¯æ¬¡ç§»åŠ¨ä¸¤æ­¥ã€‚**åœ¨æœ€ç³Ÿç³•çš„æƒ…å½¢ä¸‹ï¼Œ**æ—¶é—´å¤æ‚åº¦ä¸º O(N+K)ï¼Œä¹Ÿå°±æ˜¯ O(n)**ã€‚

<img src="assets/d1ac82780e5189d7d58406504c3b7b56c35165997bfbb4c325677af92ee2d483.gif" alt="å¿«æ…¢æŒ‡é’ˆåœ¨ç¯ä¸Šè¿½åŠ" style="zoom:67%;" />

```java
public boolean hasCycle(ListNode head) {
    // Base case
    if (head == null || head.next == null) {
        return false;
    }
    // åˆå§‹åŒ–æ—¶å¿«æŒ‡é’ˆåœ¨æ…¢æŒ‡é’ˆä¹‹å‰ä¸€æ­¥
    ListNode slow = head;
    ListNode fast = head.next;
    // ä¸€ç›´åˆ¤æ–­æŒ‡é’ˆæ˜¯å¦ç›¸é‡
    while (slow != fast) {
        // å¹¶åˆ¤æ–­æ˜¯å¦å·²ç»åˆ°å¤´
        if (fast == null || fast.next == null) {
            return false;
        }
        // å¦åˆ™åˆ†åˆ«ç§»åŠ¨ä¸¤ä¸ªæŒ‡é’ˆ
        slow = slow.next;
        fast = fast.next.next;
    }
    return true;
}
```

è‡ªå·±å†™çš„ç‰ˆæœ¬ï¼š

```java
public boolean hasCycle(ListNode head) {
    if(head == null || head.next == null) {
        return false;
    }
    ListNode fast = head;
    ListNode slow = head;
    while(fast != null && fast.next != null) {
        fast = fast.next.next;
        slow = slow.next;
        if(fast == slow) return true;
    }
    return false;
}
```

#### åˆ¤æ–­é“¾è¡¨æ˜¯å¦æœ‰ç¯å¹¶è¿”å›ç¬¬ä¸€ä¸ªå…¥ç¯ç»“ç‚¹ã€ä¸­ç­‰ã€‘

##### [1. é¢˜ç›®](https://leetcode-cn.com/problems/linked-list-cycle-ii)

ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å› nullã€‚ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œä½¿ç”¨æ•´æ•° pos æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚ å¦‚æœ pos æ˜¯ -1ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚

è¯´æ˜ï¼šä¸å…è®¸ä¿®æ”¹ç»™å®šçš„é“¾è¡¨ã€‚

<img src="assets/image-20200705133859192.png" alt="image-20200705133859192" style="zoom:50%;" />

##### 2. é¢˜è§£

###### (1) å“ˆå¸Œè¡¨æ³•

å¯ä»¥ä½¿ç”¨ **HashMap** çš„æ–¹å¼æ¥è¿›è¡Œåˆ¤æ–­ï¼Œä½†æ˜¯**ç©ºé—´å¤æ‚åº¦é«˜**ã€‚

###### (2) å¿«æ…¢åŒæŒ‡é’ˆæ³•

é‡‡ç”¨**â€œå¿«æ…¢æŒ‡é’ˆâ€**çš„æ–¹æ³•ã€‚å°±æ˜¯æœ‰ä¸¤ä¸ªæŒ‡é’ˆ fast å’Œ slowï¼Œå¼€å§‹çš„æ—¶å€™ä¸¤ä¸ªæŒ‡é’ˆéƒ½æŒ‡å‘é“¾è¡¨å¤´ headï¼Œç„¶ååœ¨æ¯ä¸€æ­¥

æ“ä½œä¸­ slow å‘å‰èµ°ä¸€æ­¥å³ï¼šslow = slow.nextï¼Œè€Œ fast æ¯ä¸€æ­¥å‘å‰ä¸¤æ­¥å³ï¼šfast = fast.next.nextã€‚

ç”±äº fast è¦æ¯” slow ç§»åŠ¨çš„å¿«ï¼Œå¦‚æœæœ‰ç¯ï¼Œfast ä¸€å®šä¼šå…ˆè¿›å…¥ç¯ï¼Œè€Œ slow åè¿›å…¥ç¯ã€‚å½“ä¸¤ä¸ªæŒ‡é’ˆéƒ½è¿›å…¥ç¯ä¹‹åï¼Œç»è¿‡ä¸€å®šæ­¥çš„æ“ä½œä¹‹åäºŒè€…ä¸€å®šèƒ½å¤Ÿåœ¨ç¯ä¸Šç›¸é‡ï¼Œå¹¶ä¸”æ­¤æ—¶ slow è¿˜æ²¡æœ‰ç»•ç¯ä¸€åœˆï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€å®šæ˜¯åœ¨ slow èµ°å®Œç¬¬ä¸€åœˆä¹‹å‰ç›¸é‡ã€‚å¯ä»¥çœ‹ä¸‹å›¾ï¼š

<img src="assets/image-20200321100046302.png" alt="image-20200321100046302" style="zoom:60%;" />

ç›¸é‡ä¹‹å fast æŒ‡é’ˆå›åˆ°å¤´éƒ¨ï¼Œslow æŒ‡é’ˆä¸åŠ¨ã€‚ç„¶åä¸¤è€…ä¸€èµ·å†æ¬¡ç§»åŠ¨ï¼Œä¸¤ä¸ªéƒ½ä¸€æ¬¡**ç§»åŠ¨ä¸€æ­¥**ï¼Œç›´åˆ°ç›¸é‡ã€‚

ä½¿ç”¨**åŒæŒ‡é’ˆ**ï¼Œä¸€ä¸ªæŒ‡é’ˆ **fast** æ¯æ¬¡ç§»åŠ¨**ä¸¤ä¸ªèŠ‚ç‚¹**ï¼Œä¸€ä¸ªæŒ‡é’ˆ **slow** æ¯æ¬¡ç§»åŠ¨**ä¸€ä¸ªèŠ‚ç‚¹**ã€‚å› ä¸ºå­˜åœ¨ç¯ï¼Œæ‰€ä»¥ä¸¤ä¸ªæŒ‡é’ˆå¿…å®šç›¸é‡åœ¨ç¯ä¸­çš„æŸä¸ªèŠ‚ç‚¹ä¸Šã€‚ï¼ˆè¿™ä¸ªè¯æ˜è¿‡ç¨‹**è®°ä¸€ä¸‹**ï¼Œæœ‰çš„é¢è¯•å®˜ä¼šå«è¯æ˜ï¼‰ã€‚

<img src="assets/image-20200807220009353.png" alt="image-20200807220009353" style="zoom:40%;" />

è®¡ç®—å¼å¦‚ä¸‹ï¼š

<img src="assets/image-20200807220107807.png" alt="image-20200807220107807" style="zoom:70%;" />

æ³¨æ„è¿™é‡Œçš„ç¼–ç ï¼Œ**==ç”¨ do while ç»“æ„==**å¯ä»¥è®©ä¸¤ä¸ªæŒ‡é’ˆ**ä»å¤´å¼€å§‹æ‰§è¡Œ**ï¼Œå¦åˆ™éœ€è¦ä¸€æ¥å°±è®©ä¸¤ä¸ªæŒ‡é’ˆé”™å¼€ã€‚è®°ä½è¿™ä¸ªï¼

```java
public ListNode EntryNodeOfLoop(ListNode head) {
    // Base case
    if (head == null || head.next == null) return null;
    // ä¸¤ä¸ªæŒ‡é’ˆ
    ListNode slow = head, fast = head;
    // å¿«æ…¢æŒ‡é’ˆä¸ç›¸åŒåˆ™å„è‡ªç§»åŠ¨
    do {
        fast = fast.next.next;
        slow = slow.next;
    } while (slow != fast);
    // æ­¤æ—¶å¿«æ…¢æŒ‡é’ˆç›¸é‡,ç„¶åå¿«æŒ‡é’ˆé‡ç½®åˆ°head
    fast = head;
    // å½“ä¸¤ä¸ªæŒ‡é’ˆä¸åŒæ—¶å„è‡ªç§»åŠ¨ä¸€æ­¥ç›´åˆ°ä¸¤è€…ç›¸åŒ
    while (slow != fast) {
        slow = slow.next;
        fast = fast.next;
    }
    return slow;
}
```

ä¸ç”¨ do-while çš„ç»“æ„çš„ä»£ç è¦å¤æ‚å¾ˆå¤šï¼Œè¿˜æ˜¯è®°ä½ä¸Šé¢å°±è¡Œäº†ã€‚

#### åˆ¤æ–­ä¸¤ä¸ªæ— ç¯é“¾è¡¨æ˜¯å¦ç›¸äº¤

##### 1. é¢˜ç›®

åªæ˜¯åˆ¤æ–­ä¸¤ä¸ªé“¾è¡¨æ˜¯å¦å­˜åœ¨äº¤ç‚¹ï¼Œï¼Œå³ [ç¼–ç¨‹ä¹‹ç¾ 3.6]() çš„é—®é¢˜ã€‚

##### 2. é¢˜è§£

æŠŠç¬¬ä¸€ä¸ªé“¾è¡¨çš„ç»“å°¾è¿æ¥åˆ°ç¬¬äºŒä¸ªé“¾è¡¨çš„**å¼€å¤´**ï¼Œçœ‹ç¬¬äºŒä¸ªé“¾è¡¨**æ˜¯å¦å­˜åœ¨ç¯**ï¼›

æˆ–è€…**ç›´æ¥æ¯”è¾ƒ**ä¸¤ä¸ªé“¾è¡¨çš„**æœ€åä¸€ä¸ªèŠ‚ç‚¹æ˜¯å¦ç›¸åŒ**ã€‚

#### ğŸ’¯160.æ‰¾ä¸¤ä¸ªæ— ç¯é“¾è¡¨çš„ç¬¬ä¸€ä¸ªç›¸äº¤ç»“ç‚¹

##### [1. é¢˜ç›®](https://leetcode-cn.com/problems/intersection-of-two-linked-lists/)

åˆ¤æ–­ä¸¤ä¸ª**æ— ç¯**çš„é“¾è¡¨æ˜¯å¦ç›¸äº¤å¹¶å¾—åˆ°**ç¬¬ä¸€ä¸ªç›¸äº¤**çš„ç»“ç‚¹ã€‚ä¸ç›¸äº¤å°±è¿”å› nullã€‚

##### 2. é¢˜è§£

###### (1) Hashè¡¨æ³•

å¦‚æœä¸¤ä¸ªé“¾è¡¨ç›¸äº¤,é‚£ä¹ˆå®ƒä»¬ä¸€å®šä¼šæœ‰å…¬å…±çš„ç»“ç‚¹ï¼Œç”±äºç»“ç‚¹çš„åœ°å€æˆ–å¼•ç”¨å¯ä»¥ä½œä¸ºç»“ç‚¹çš„å”¯ä¸€æ ‡è¯†,å› æ­¤ï¼Œå¯ä»¥é€šè¿‡åˆ¤æ–­ä¸¤ä¸ªé“¾è¡¨ä¸­çš„ç»“ç‚¹æ˜¯å¦æœ‰ç›¸åŒçš„åœ°å€æˆ–å¼•ç”¨æ¥åˆ¤æ–­é“¾è¡¨æ˜¯å¦ç›¸äº¤ã€‚ç©ºé—´å¤æ‚åº¦é«˜ã€‚

###### (2) åŒæŒ‡é’ˆæ³•

å¦‚æœä¸¤ä¸ªæ— ç¯é“¾è¡¨ç›¸äº¤ï¼Œé‚£ä¹ˆä»**ç›¸äº¤èŠ‚ç‚¹å¼€å§‹**ï¼Œä¸€ç›´åˆ°ä¸¤ä¸ªé“¾è¡¨ç»ˆæ­¢çš„è¿™æ®µï¼Œ**äºŒè€…å…±äº«**ã€‚å…·ä½“å¦‚ä¸‹ï¼š

â‘  é“¾è¡¨ 1 ä»å¤´èŠ‚ç‚¹å¼€å§‹ï¼Œèµ°åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œç»Ÿè®¡é“¾è¡¨ 1 çš„é•¿åº¦è®°ä¸º **len1**ï¼ŒåŒæ—¶è®°å½•é“¾è¡¨ 1 çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹è®°ä¸º end1ã€‚

â‘¡ é“¾è¡¨ 2 ä»å¤´èŠ‚ç‚¹å¼€å§‹ï¼Œèµ°åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œç»Ÿè®¡é“¾è¡¨ 2 çš„é•¿åº¦è®°ä¸º **len2**ï¼ŒåŒæ—¶è®°å½•é“¾è¡¨ 2 çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹è®°ä¸º end2ã€‚

â‘¢ å¦‚æœ end1 != end2ï¼Œ**è¯´æ˜äºŒè€…ä¸ç›¸äº¤ï¼Œè¿”å› null**ã€‚å¦åˆ™ï¼Œè¿›å…¥æ­¥éª¤ â‘£ã€‚

â‘£ å¦‚æœé“¾è¡¨ 1 æ¯”è¾ƒé•¿ï¼Œé“¾è¡¨ 1 **å°±å…ˆèµ° len1 - len2** æ­¥ï¼›å¦‚æœé“¾è¡¨ 2 æ¯”è¾ƒé•¿ï¼Œé“¾è¡¨ 2 å…ˆèµ° len2 - len1 æ­¥ã€‚ç„¶å**ä¸¤è€…ä¸€èµ·è¿åŠ¨ï¼Œé¦–æ¬¡ç›¸ç­‰çš„ç»“ç‚¹å°±æ˜¯ç›¸é‡çš„ç»“ç‚¹**ã€‚ç©ºé—´å¤æ‚åº¦ä¸º O(1)ã€‚

```java
/**
 * åˆ¤æ–­ä¸¤ä¸ªæ— ç¯é“¾è¡¨æ˜¯å¦ç›¸äº¤
 * @return ç›¸äº¤çš„èŠ‚ç‚¹æˆ–null
 */
public static Node isTwoListMeet(Node head1, Node head2) {
    if (head1 == null || head2 == null) {
        return null;
    }
    // è®°å½•é•¿åº¦
    int length1 = 0;
    int length2 = 0;
    Node temp1 = head1;
    Node temp2 = head2;
    // å¯»æ‰¾é•¿åº¦ å¹¶è®©temp1å’Œtemp2å„è‡ªåˆ°é“¾å°¾éƒ¨
    while (temp1.next != null) {
        temp1 = temp1.next;
        length1++;
    }
    while (temp2.next != null) {
        temp2 = temp2.next;
        length2++;
    }
    // å…ˆæ¯”è¾ƒå°¾éƒ¨ä¸¤ä¸ªæŒ‡é’ˆ å¦‚æœä¸ç›¸åŒåˆ™è‚¯å®šä¸ç›¸äº¤
    if (temp1 != temp2) {
        return null;
    }
    // æ­¤å¤„æ˜¯è®©temp1æ—¶é’ŸæŒ‡å‘è¾ƒé•¿çš„ä¸€æ ¹é“¾è¡¨ temp2æŒ‡å‘è¾ƒçŸ­çš„é“¾è¡¨ è¿™æ˜¯ä¸ªç¼–ç æŠ€å·§
    temp1 = (length1 - length2 > 0) ? head1 : head2;
    temp2 = (temp1 == head1) ? head2 : head1;
    // æ±‚ä¸¤ä¸ªé“¾è¡¨çš„é•¿åº¦å·®
    int gap = Math.abs(length1 - length2);
    // é“¾è¡¨é•¿çš„temp1å…ˆèµ°gapæ­¥
    while (gap != 0) {
        temp1 = temp1.next;
        gap--;
    }
    // ä¸¤ä¸ªé“¾è¡¨åŒæ—¶è¿åŠ¨æ‰¾ç¬¬ä¸€ä¸ªç›¸åŒçš„ç‚¹
    while (temp1 != temp2) {
        temp1 = temp1.next;
        temp2 = temp2.next;
    }
    // è¿”å›å…¶ä¸­ä¸€ä¸ª
    return temp1;
}
```

åŠ›æ‰£ä¸Šä¸€ä¸ªè§£æ³•ï¼Œä¹Ÿæ˜¯**åŒæŒ‡é’ˆï¼Œç®€æ´å¥½å¤šã€‚ã€‚**

```java
public ListNode getIntersectionNode(ListNode headA, ListNode headB) {

    ListNode head1 = headA;
    ListNode head2 = headB;
    // ä¸¤ä¸ªèŠ‚ç‚¹ä¸ç›¸äº¤
    while (head1 != head2) {
        if (head1 != null) {
            head1 = head1.next;
        } else {
            head1 = headB;
        }
        if (head2 != null) {
            head2 = head2.next;
        } else {
            head2 = headA;
        }
    }
    if (head1 == null) {
        return null;
    }
    return head1;
}
```

**å†æ¥ä¸€ç§è§£æ³•ã€‚**

è®¾ A çš„é•¿åº¦ä¸º a + cï¼ŒB çš„é•¿åº¦ä¸º b + cï¼Œå…¶ä¸­ c ä¸ºå°¾éƒ¨**å…¬å…±éƒ¨åˆ†é•¿åº¦**ï¼Œå¯çŸ¥ a + c + b = b + c + aã€‚

å½“è®¿é—® A é“¾è¡¨çš„æŒ‡é’ˆè®¿é—®åˆ°**é“¾è¡¨å°¾éƒ¨æ—¶**ï¼Œä»¤å®ƒä»é“¾è¡¨ B çš„å¤´éƒ¨å¼€å§‹è®¿é—®é“¾è¡¨ Bï¼›åŒæ ·åœ°ï¼Œå½“è®¿é—® B é“¾è¡¨çš„æŒ‡é’ˆè®¿é—®åˆ°é“¾è¡¨å°¾éƒ¨æ—¶ï¼Œä»¤å®ƒä»é“¾è¡¨ A çš„å¤´éƒ¨å¼€å§‹è®¿é—®é“¾è¡¨ Aã€‚**è¿™æ ·å°±èƒ½æ§åˆ¶è®¿é—® A å’Œ B ä¸¤ä¸ªé“¾è¡¨çš„æŒ‡é’ˆèƒ½åŒæ—¶è®¿é—®åˆ°äº¤ç‚¹**ã€‚

å¦‚æœ**ä¸å­˜åœ¨äº¤ç‚¹**ï¼Œé‚£ä¹ˆ a + b = b + aï¼Œä»¥ä¸‹å®ç°ä»£ç ä¸­ l1 å’Œ l2 **ä¼šåŒæ—¶ä¸º null**ï¼Œä»è€Œ**é€€å‡º**å¾ªç¯ã€‚

```java
public ListNode getIntersectionNode(ListNode headA, ListNode headB) {
    ListNode l1 = headA, l2 = headB;
    while (l1 != l2) {
        l1 = (l1 == null) ? headB : l1.next;
        l2 = (l2 == null) ? headA : l2.next;
    }
    return l1;
}
```

#### åˆ¤æ–­ä¸¤ä¸ªæœ‰ç¯é“¾è¡¨æ˜¯å¦ç›¸äº¤

éœ€è¦åˆ†ä¸ºæ˜¯å¦æœ‰ç¯å’Œæ˜¯å¦ç›¸äº¤çš„ä¸¤ç§æƒ…å†µã€‚å„ç§è¿›è¡Œè®¨è®ºã€‚å¦‚æœä¸¤ä¸ªæœ‰ç¯çš„é“¾è¡¨ç›¸äº¤ï¼Œé‚£æœ€åè‚¯å®šæ˜¯ä¸¤ä¸ª**å…±äº«ä¸€ä¸ªç¯**ã€‚



### å…¶ä»–é¢˜ç›®

#### 138.å¤åˆ¶ç»“ç‚¹å¸¦æœ‰éšæœºæŒ‡é’ˆçš„é“¾è¡¨ã€ä¸­ç­‰ã€‘

##### [1. é¢˜ç›®](https://leetcode-cn.com/problems/copy-list-with-random-pointer)

ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œæ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä¸€ä¸ªé¢å¤–å¢åŠ çš„**éšæœºæŒ‡é’ˆ**ï¼Œè¯¥æŒ‡é’ˆå¯ä»¥æŒ‡å‘é“¾è¡¨ä¸­çš„**ä»»ä½•èŠ‚ç‚¹æˆ–ç©ºèŠ‚ç‚¹**ã€‚è¦æ±‚è¿”å›è¿™ä¸ªé“¾è¡¨çš„ **æ·±æ‹·è´**ã€‚ ç”¨ä¸€ä¸ªç”± n ä¸ªèŠ‚ç‚¹ç»„æˆçš„é“¾è¡¨æ¥è¡¨ç¤ºè¾“å…¥/è¾“å‡ºä¸­çš„é“¾è¡¨ã€‚å¸¦æœ‰éšæœºæŒ‡é’ˆçš„ç»“ç‚¹ç±»å¦‚ä¸‹ï¼š

```java
class Node {
    int val;
    Node next;
    // éšæœºæŒ‡é’ˆ
    Node random;
    public Node(int val) {
        this.val = val;
        this.next = null;
        this.random = null;
    }
}
```

##### 2. é¢˜è§£

###### (1) Mapä¿å­˜æ³•

ä½¿ç”¨ä¸€ä¸ª **Map** æ¥ä¿å­˜**åŸæœ‰ç»“ç‚¹ä¸å‰¯æœ¬ç»“ç‚¹çš„å¯¹åº”å…³ç³»**ï¼Œç„¶åæ ¹æ®åŸç»“ç‚¹çš„å…³ç³»ä» map ä¸­å–å¯¹åº”çš„å‰¯æœ¬ç»“ç‚¹**å¹¶è®¾ç½®å…³ç³»**ã€‚map ä¸­çš„ç»“ç‚¹çš„**æŒ‡é’ˆå…³ç³»ä¾ç„¶æ²¡å˜**ã€‚

```java
/**
 * ä½¿ç”¨HashMapå¤åˆ¶å¸¦æœ‰éšæœºæŒ‡é’ˆçš„èŠ‚ç‚¹é“¾è¡¨
 *
 * @param head åŸå¤´ç»“ç‚¹
 * @return å¤åˆ¶åçš„é“¾è¡¨
 */
private static RandomListNode copyListWithRandomPointer(RandomListNode head) {
    // ä½¿ç”¨Mapå­˜å‚¨åŸå§‹èŠ‚ç‚¹ä¸å¯¹åº”å¤åˆ¶åèŠ‚ç‚¹çš„å…³ç³»
    HashMap<RandomListNode, RandomListNode> nodeMap = new HashMap<>();

    // éå†ç¬¬ä¸€æ¬¡å°†å…¨éƒ¨èŠ‚ç‚¹æ”¾å…¥mapä¸­ï¼Œmapä¸­çš„ç»“ç‚¹çš„æŒ‡é’ˆå…³ç³»ä¾ç„¶æ²¡å˜
    RandomListNode cur = head;
    while (cur != null) {
        nodeMap.put(cur, new RandomListNode(cur.value));
        cur = cur.next;
    }
    
    cur = head;
    // ä¸æ–­ä»mapä¸­å–ä¹‹å‰çš„èŠ‚ç‚¹è®¾ç½®å‰¯æœ¬çš„å…³ç³»
    while (cur != null) {
        nodeMap.get(cur).next = nodeMap.get(cur.next);
        nodeMap.get(cur).random = nodeMap.get(cur.random);
        cur = cur.next;
    }
    return nodeMap.get(head);
}
```

æ—¶é—´ã€ç©ºé—´å¤æ‚åº¦å‡ä¸º **O(N)**ã€‚

###### (2) è¿­ä»£å¤åˆ¶æ³•ï¼ˆæœ€ä¼˜ï¼‰

ç©ºé—´å¤æ‚åº¦é™ä¸º **O(1)**ã€‚

- éå†ä¸¤æ¬¡ï¼Œç¬¬ä¸€æ¬¡åœ¨æ¯ä¸ªèŠ‚ç‚¹çš„åé¢**å¤åˆ¶ä¸€ä¸ªå€¼ä¸€æ ·çš„ç»“ç‚¹**ã€‚

- ç¬¬äºŒæ¬¡éå†æ—¶æ ¹æ®åŸæœ‰ç»“ç‚¹çš„**éšæœºæŒ‡é’ˆè®¾ç½®å¤åˆ¶åçš„éšæœºæŒ‡é’ˆ**ï¼ˆå› ä¸ºåŸç»“ç‚¹ä¸å¤åˆ¶ç»“ç‚¹æ˜¯æŒ¨ç€çš„ï¼Œæ‰€ä»¥**æœ‰ä½ç½®å…³ç³»**ï¼‰ã€‚

- æœ€åå°†å¤åˆ¶åçš„é“¾è¡¨ä¸åŸé“¾è¡¨**å®Œå…¨åˆ†å¼€**å³å¯ã€‚

<img src="assets/4bc12694524ee548153e207fd069607af8299530bb2a2f3690c68f7b86d91e2b-1563690472002.png" alt="1563690472002.png" style="zoom:80%;" />

```java
public Node copyRandomList(Node head) {
    // Base case
    if (head == null) return null;
    // å°†æ¯ä¸ªèŠ‚ç‚¹å¤åˆ¶åˆ°ä¸‹ä¸€ä¸ªç»“ç‚¹
    Node cur = head;
    while (cur != null) {
        Node temp = new Node(cur.val);
        temp.next = cur.next;
        cur.next = temp;
        cur = cur.next.next;
    }
    // å¤åˆ¶éšæœºæŒ‡é’ˆ
    cur = head;
    while (cur != null) {
        // éšæœºæŒ‡é’ˆä¸ºç©ºçš„ä¸ç®¡
        if (cur.random != null) {
            // æ‹·è´å½“å‰èŠ‚ç‚¹çš„éšæœºæŒ‡é’ˆçš„æŒ‡å‘
            cur.next.random = cur.random.next;
        }
        // ç§»åŠ¨ä¸¤æ­¥
        cur = cur.next.next;
    }
    // å°†ä¸¤æ¡é“¾è¡¨å®Œå…¨æ‹†åˆ†
    cur = head;
    Node copHead = cur.next;
    Node copyCur = copHead;
    while (copyCur.next != null) {
        // ç§»åŠ¨åŸé“¾è¡¨æŒ‡é’ˆ
        cur.next = cur.next.next;
        cur = cur.next;
        // ç§»åŠ¨å¤åˆ¶é“¾è¡¨æŒ‡é’ˆ
        copyCur.next = copyCur.next.next;
        copyCur = copyCur.next;
    }
    // ç»“æŸæ ‡å¿—null
    cur.next = null;
    return copHead;
}
```

#### ğŸ’¯234.åˆ¤æ–­é“¾è¡¨æ˜¯å¦æ˜¯å›æ–‡ç»“æ„ã€ç®€å•ã€‘

##### [1. é¢˜ç›®](https://leetcode-cn.com/problems/palindrome-linked-list/)

è¯·åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦ä¸º**å›æ–‡é“¾è¡¨**ã€‚

```
è¾“å…¥: 1->2
è¾“å‡º: false
```

```
è¾“å…¥: 1->2->2->1
è¾“å‡º: true
```

##### 2. é¢˜è§£

###### (1) å‹æ ˆæ³•

é‡‡ç”¨æ ˆçš„æ–¹å¼ï¼Œå°†é“¾è¡¨ç»“ç‚¹å…¨éƒ¨**å‹æ ˆ**ï¼Œç„¶å**é€æ¸å¼¹æ ˆä¾æ¬¡ä¸åŸé“¾è¡¨è¿›è¡Œæ¯”è¾ƒ**ã€‚éœ€è¦å¾—ç©ºé—´ä¸º O(N) ã€‚

```java
private static boolean isPalindromeListUsingStack(Node head) {
    if (head == null) return true;
    // åˆ©ç”¨æ ˆ
    Stack<Node> stack = new Stack<>();
    // å°†èŠ‚ç‚¹å…¨éƒ¨å‹æ ˆ
    Node temp = head;
    while (temp != null) {
        stack.push(temp);
        temp = temp.next;
    }
    // å…ƒç´ é€ä¸ªå¼¹å‡ºä¸é“¾è¡¨é¡ºåºä¸€ä¸€æ¯”è¾ƒ
    while (head != null) {
        if (head.value != stack.pop().value) {
            return false;
        }
        head = head.next;
    }
    return true;
}
```

###### (2) åŠè¾¹å‹æ ˆæ³•

ä¸éœ€è¦æŠŠé“¾è¡¨å…¨éƒ¨å‹æ ˆï¼Œåªéœ€è¦æŠŠé“¾è¡¨çš„**ä¸€åŠ**å…ƒç´ å‹æ ˆå³å¯ã€‚è¿™ä¸ªæ–¹æ³•éœ€è¦æ‰¾åˆ°é“¾è¡¨çš„**ä¸­é—´ç»“ç‚¹**ï¼Œæ‰¾çš„æ–¹å¼å¯ä»¥ä½¿ç”¨**åŒæŒ‡é’ˆ**ã€‚

###### (3) é€†è½¬é“¾è¡¨æ³•

ä¸ç”¨æ ˆï¼Œé¦–å…ˆä½¿ç”¨**åŒæŒ‡é’ˆ**æ–¹å¼æ‰¾åˆ°é“¾è¡¨**ä¸­é—´ç»“ç‚¹**ï¼Œç„¶åä»æ­¤å¤„**åè½¬**é“¾è¡¨çš„**å³åŠéƒ¨åˆ†**ï¼Œä½¿å…¶æœ€å**æŒ‡å‘ä¸­é—´ç»“ç‚¹**ï¼Œç„¶åä»ä¸¤è¾¹çš„**ä¸¤ä¾§åŒæ—¶å¼€å§‹ç§»åŠ¨**æ¯”è¾ƒï¼Œæœ€åä¸€å®šè¦**æ¢å¤**é“¾è¡¨å³è¾¹çš„ç»“æ„ä¸ºåŸæ ·ã€‚

è¿™ä¸ªè¿‡ç¨‹è™½ç„¶å¤æ‚ä½†æ˜¯ç©ºé—´å¤æ‚åº¦ä¸º **O(1)**ã€‚

```java
public boolean isPalindrome(ListNode head) {

    if (head == null) return true;

    // æ‰¾åˆ°å‰åŠéƒ¨åˆ†çš„æœ«å°¾
    ListNode firstHalfEnd = endOfFirstHalf(head);
    // åè½¬ååŠéƒ¨åˆ†å¹¶å¾—åˆ°ååŠéƒ¨åˆ†å¼€å¤´
    ListNode secondHalfStart = reverseList(firstHalfEnd.next);

    // æŒ¨ç€æ£€æŸ¥æ˜¯å¦ç›¸åŒ
    ListNode l1 = head;
    ListNode l2 = secondHalfStart;
    boolean result = true;
    while (result && l2 != null) {
        if (l1.val != l2.val) result = false;
        l1 = l1.next;
        l2 = l2.next;
    }
    // æ³¨æ„æŠŠåé¢çš„åŠéƒ¨åˆ†é€†åºå›æ¥
    firstHalfEnd.next = reverseList(secondHalfStart);
    return result;
}

// Taken from https://leetcode.com/problems/reverse-linked-list/solution/
private ListNode reverseList(ListNode head) {
    ListNode prev = null;
    ListNode curr = head;
    while (curr != null) {
        ListNode nextTemp = curr.next;
        curr.next = prev;
        prev = curr;
        curr = nextTemp;
    }
    return prev;
}

// æ‰¾åˆ°å‰åŠéƒ¨åˆ†çš„æœ«å°¾
private ListNode endOfFirstHalf(ListNode head) {
    ListNode fast = head;
    ListNode slow = head;
    while (fast.next != null && fast.next.next != null) {
        fast = fast.next.next;
        slow = slow.next;
    }
    return slow;
}
```

#### é“¾è¡¨å­åºåˆ—(ç»„ä»¶)ã€ä¸­ç­‰ã€‘

##### [1. é¢˜ç›®](https://leetcode-cn.com/problems/linked-list-components)

ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼ˆé“¾è¡¨ç»“ç‚¹åŒ…å«ä¸€ä¸ªæ•´å‹å€¼ï¼‰çš„**å¤´ç»“ç‚¹ head**ã€‚åŒæ—¶ç»™å®š**åˆ—è¡¨ G**ï¼Œè¯¥åˆ—è¡¨æ˜¯ä¸Šè¿°é“¾è¡¨ä¸­æ•´å‹å€¼çš„**ä¸€ä¸ªå­é›†**ã€‚è¿”å›åˆ—è¡¨ G ä¸­ç»„ä»¶çš„ä¸ªæ•°ï¼Œè¿™é‡Œå¯¹ç»„ä»¶çš„å®šä¹‰ä¸ºï¼šé“¾è¡¨ä¸­ä¸€æ®µ**æœ€é•¿è¿ç»­ç»“ç‚¹**çš„å€¼ï¼ˆè¯¥å€¼å¿…é¡»åœ¨åˆ—è¡¨ G ä¸­ï¼‰æ„æˆçš„é›†åˆã€‚

```java
è¾“å…¥: 
head: 0->1->2->3
G = [0, 1, 3]
è¾“å‡º: 2 è§£é‡Š: é“¾è¡¨ä¸­,0 å’Œ 1 æ˜¯ç›¸è¿æ¥çš„ï¼Œä¸” G ä¸­ä¸åŒ…å« 2ï¼Œæ‰€ä»¥ [0, 1] æ˜¯ G çš„ä¸€ä¸ªç»„ä»¶ï¼ŒåŒç† [3] ä¹Ÿæ˜¯ä¸€ä¸ªç»„ä»¶ï¼Œæ•…è¿”å› 2ã€‚
    
è¾“å…¥: 
head: 0->1->2->3->4
G = [0, 3, 1, 4]
è¾“å‡º: 2 è§£é‡Š: é“¾è¡¨ä¸­ï¼Œ0 å’Œ 1 æ˜¯ç›¸è¿æ¥çš„ï¼Œ3 å’Œ 4 æ˜¯ç›¸è¿æ¥çš„ï¼Œæ‰€ä»¥ [0, 1] å’Œ [3, 4] æ˜¯ä¸¤ä¸ªç»„ä»¶ï¼Œæ•…è¿”å› 2ã€‚
```

##### 2. é¢˜è§£

åˆ©ç”¨**é¢å¤–ç©ºé—´**è¿›è¡Œè¾…åŠ©è§£ç­”ã€‚é¦–å…ˆå°†æ•°ç»„å†…å®¹æ”¾å…¥ä¸€ä¸ª **Set** ä¸­ï¼Œç”¨äºåˆ¤æ–­**æ˜¯å¦åŒ…å«**è¯¥å…ƒç´ ã€‚éå†**é“¾è¡¨**ï¼Œæ¯ä¸ªç»“ç‚¹éƒ½å» Set ä¸­çœ‹æ˜¯å¦åŒ…å«è¿™ä¸ªå€¼ã€‚åŒæ—¶ç»´æŠ¤ä¸€ä¸ª flag å˜é‡æ¥è§£å†³**å¤šä¸ªå…ƒç´ è¿ç»­å‡ºç°**çš„æƒ…å†µã€‚

```java
public int numComponents(ListNode head, int[] G) {
    // å¼•å…¥Setå­˜æ”¾æ•°ç»„å…ƒç´ 
    Set<Integer> set = new HashSet<>();
    for(int i = 0; i < G.length; i++) {
        set.add(G[i]);
    }
    // å­åºåˆ—ä¸ªæ•°
    int res = 0;
    // å¼•å…¥æ ‡å¿—ä½ï¼štrueä»£åŠSetä¸­å‡ºç°äº†æŸä¸ªå…ƒç´ 
    boolean flag = false;
    while(head != null) {
        // å¦‚æœSetåŒ…å«è¿™ä¸ªå…ƒç´ åˆ™flagç½®trueï¼Œå¦‚æœè¿ç»­å‡ºç°ä¹Ÿæ˜¯true
        if(set.contains(head.val)) {
            flag = true;
        } else {
            // ä¸€æ—¦å‡ºç°Setä¸­ä¸å«è¿™ä¸ªå…ƒç´ ï¼Œåˆ™åˆ¤æ–­flagçŠ¶æ€ï¼Œå¦‚æœä¸ºtrueï¼Œåˆ™è¯´æ˜ä¸€ä¸ªå­åºåˆ—ç»“æŸ
            if(flag == true) {
                flag = false;
                // è®¡æ•°å›+1
                res++;
            }
        }
        head = head.next;
    }
    // æœ€ååˆ¤æ–­ä¸€ä¸‹æ ‡å¿—ä½ï¼Œé˜²æ­¢å‡ºç°æœ€åä¸€ä¸ªå…ƒç´ æ¼åˆ¤
    if(flag == true) {
        res++;
    }
    return res;
}
```

emmmm å®˜æ–¹çš„**ç®€ä¾¿å†™æ³•**ï¼Œå…¶å®æ€æƒ³ä¸€æ ·ã€‚

```java
public int numComponents(ListNode head, int[] G) {
    // å¼•å…¥Set
    Set<Integer> Gset = new HashSet();
    for (int x: G) Gset.add(x);

    ListNode cur = head;
    int ans = 0;
    while (cur != null) {
        // å¦‚æœSetåŒ…å«è¿™ä¸ªå€¼ä½†ä¸åŒ…å«ä¸‹ä¸€ä¸ªå€¼ï¼Œåˆ™è®¡æ•°å™¨+1
        if (Gset.contains(cur.val) &&
            (cur.next == null || !Gset.contains(cur.next.val)))
            ans++;
        cur = cur.next;
    }
    return ans;
}
```

#### äºŒè¿›åˆ¶é“¾è¡¨è½¬æ•´æ•°ã€ç®€å•ã€‘

##### [1. é¢˜ç›®](https://leetcode-cn.com/problems/convert-binary-number-in-a-linked-list-to-integer)

ç»™ä¸€ä¸ª**å•é“¾è¡¨**çš„å¼•ç”¨ç»“ç‚¹ headã€‚é“¾è¡¨ä¸­æ¯ä¸ªç»“ç‚¹çš„å€¼ä¸æ˜¯ 0 å°±æ˜¯ 1ã€‚å·²çŸ¥æ­¤é“¾è¡¨æ˜¯ä¸€ä¸ªæ•´æ•°æ•°å­—çš„äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼ã€‚è¯·è¿”å›è¯¥é“¾è¡¨æ‰€è¡¨ç¤ºæ•°å­—çš„ åè¿›åˆ¶å€¼ ã€‚

<img src="assets/graph-1.png" alt="img" style="zoom:70%;" />

```java
è¾“å…¥ï¼šhead = [1,0,1]
è¾“å‡ºï¼š5
è§£é‡Šï¼šäºŒè¿›åˆ¶æ•° (101) è½¬åŒ–ä¸ºåè¿›åˆ¶æ•° (5)
```

##### 2. é¢˜è§£

###### (1) ç®—æ³•è§£

åˆ©ç”¨**äºŒè¿›åˆ¶è½¬åè¿›åˆ¶**çš„ç®—æ³•ï¼Œä¸€æ¬¡éå†å³å¯ã€‚

```java
public int getDecimalValue(ListNode head) {
    // æ±‚å’Œ
    int sum = 0;
    while(head != null){
        // æ¯ä¸€ä½éƒ½ä¹˜2+åŸæ¥çš„å€¼
        sum = sum * 2 + head.val;
        head = head.next;
    }
    return sum;
}
```

###### (2) åº“å‡½æ•°è§£

ç›´æ¥è¿›è¡Œè§£æã€‚

```java
public int getDecimalValue(ListNode head) {
    StringBuilder s = new StringBuilder();
    while(head != null) {
        s.append(head.val);
        head = head.next;
    }
    return Integer.parseInt(s.toString(), 2);
}
```

