[TOC]

### æ ˆä¸é˜Ÿåˆ—é¢˜ç›®

#### ç”¨æ ˆå®ç°é˜Ÿåˆ—ã€ç®€å•ã€‘

##### 1. é¢˜ç›®

ä½¿ç”¨æ ˆå®ç°é˜Ÿåˆ—çš„ä¸‹åˆ—æ“ä½œï¼š

push(x) -- å°†ä¸€ä¸ªå…ƒç´ æ”¾å…¥é˜Ÿåˆ—çš„å°¾éƒ¨ã€‚
pop() -- ä»é˜Ÿåˆ—é¦–éƒ¨ç§»é™¤å…ƒç´ ã€‚
peek() -- è¿”å›é˜Ÿåˆ—é¦–éƒ¨çš„å…ƒç´ ã€‚
empty() -- è¿”å›é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºã€‚

é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/implement-queue-using-stacks

##### 2. é¢˜è§£

æ ˆçš„é¡ºåºä¸ºåè¿›å…ˆå‡ºï¼Œè€Œé˜Ÿåˆ—çš„é¡ºåºä¸ºå…ˆè¿›å…ˆå‡ºã€‚ä½¿ç”¨**ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—**ï¼Œä¸€ä¸ªå…ƒç´ éœ€è¦ç»è¿‡**ä¸¤ä¸ªæ ˆæ‰èƒ½å‡ºé˜Ÿåˆ—**ï¼Œåœ¨ç»è¿‡ç¬¬ä¸€ä¸ª**æ ˆæ—¶å…ƒç´ é¡ºåºè¢«åè½¬**ï¼Œç»è¿‡**ç¬¬äºŒä¸ªæ ˆæ—¶å†æ¬¡è¢«åè½¬**ï¼Œæ­¤æ—¶å°±æ˜¯å…ˆè¿›å…ˆå‡ºé¡ºåºã€‚

```java
private Stack<Integer> inStack = new Stack<>();
private Stack<Integer> outStack = new Stack<>();

// å‹å…¥å°±å‹åˆ°inæ ˆ
public void push(int x) {
    inStack.push(x);
}

public int pop() {
    // å‡ºæ ˆä¸ºç©º
    if(outStack.isEmpty()) {
        // å¦‚æœå…¥æ ˆä¹Ÿä¸ºç©ºï¼ŒæŠ›å¼‚å¸¸
        if(inStack.isEmpty()) {
            return -1;
        }
        // å°†å…¥æ ˆçš„å…¨éƒ¨å…ƒç´ æ”¾åˆ°å‡ºæ ˆä¸­
        while(!inStack.isEmpty()) {
            outStack.push(inStack.pop());
        }
    }
    // å¼¹å‡ºå…ƒç´ 
    return outStack.pop();
}

public boolean empty() {
    return inStack.isEmpty() && outStack.isEmpty();
}
```



#### ç”¨é˜Ÿåˆ—å®ç°æ ˆã€ç®€å•ã€‘

##### 1. é¢˜ç›®

ä½¿ç”¨é˜Ÿåˆ—å®ç°æ ˆçš„ä¸‹åˆ—æ“ä½œï¼š

- push(x) -- å…ƒç´  x å…¥æ ˆã€‚
- pop() -- ç§»é™¤æ ˆé¡¶å…ƒç´ ã€‚
- top() -- è·å–æ ˆé¡¶å…ƒç´ ã€‚
- empty() -- è¿”å›æ ˆæ˜¯å¦ä¸ºç©ºã€‚

é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/implement-stack-using-queues

##### 2. é¢˜è§£

åœ¨å°†ä¸€ä¸ªå…ƒç´  x æ’å…¥é˜Ÿåˆ—æ—¶ï¼Œä¸ºäº†ç»´æŠ¤åŸæ¥çš„**åè¿›å…ˆå‡º**é¡ºåºï¼Œéœ€è¦è®© **x æ’å…¥é˜Ÿåˆ—é¦–éƒ¨**ã€‚è€Œé˜Ÿåˆ—çš„**é»˜è®¤æ’å…¥é¡ºåºæ˜¯é˜Ÿåˆ—å°¾éƒ¨**ï¼Œå› æ­¤åœ¨å°† x æ’å…¥é˜Ÿåˆ—å°¾éƒ¨ä¹‹åï¼Œéœ€è¦è®©**é™¤äº† x ä¹‹å¤–çš„æ‰€æœ‰å…ƒç´ å‡ºé˜Ÿåˆ—**ï¼Œ**ç„¶åä¾æ¬¡å†å…¥é˜Ÿåˆ—**ï¼Œæ’å…¥åˆ°é˜Ÿåˆ—çš„**æœ«å°¾**ã€‚

```java
private Queue<Integer> queue = new LinkedList<>();

public void push(int x) {
    // åŠ å…¥åˆ°é˜Ÿåˆ—ä¸­
    queue.add(x);
    // å¾—åˆ°é˜Ÿåˆ—çš„å¤§å°
    int size = queue.size();
    // æŠŠå‰é¢çš„å…ƒç´ å…¨éƒ¨æ¬è¿åˆ°åˆšæ’å…¥çš„å…ƒç´ çš„åé¢
    while (size-- > 1) {
        queue.add(queue.poll());
    }
}

public int pop() {
    return queue.remove();
}

public int top() {
    return queue.peek();
}

public boolean empty() {
    return queue.isEmpty();
}
```



#### ğŸ’¯æœ‰æ•ˆçš„æ‹¬å·ã€ç®€å•ã€‘

##### 1. é¢˜ç›®

ç»™å®šä¸€ä¸ª**åªåŒ…æ‹¬** '('ï¼Œ')'ï¼Œ'{'ï¼Œ'}'ï¼Œ'['ï¼Œ']' çš„å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆã€‚æœ‰æ•ˆå­—ç¬¦ä¸²éœ€æ»¡è¶³ï¼šå·¦æ‹¬å·å¿…é¡»ç”¨ç›¸åŒç±»å‹çš„å³æ‹¬å·é—­åˆï¼›å·¦æ‹¬å·å¿…é¡»ä»¥æ­£ç¡®çš„é¡ºåºé—­åˆï¼›æ³¨æ„ç©ºå­—ç¬¦ä¸²å¯è¢«è®¤ä¸ºæ˜¯æœ‰æ•ˆå­—ç¬¦ä¸²ã€‚æ³¨æ„è¿™ä¸ªå­—ç¬¦ä¸²**åªåŒ…å«**æœ‰è¿™å‡ ä¸ªç¬¦å·ã€‚

```html
è¾“å…¥: "()[]{}"
è¾“å‡º: true

è¾“å…¥: "([)]"
è¾“å‡º: false
```

é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/valid-parentheses

##### 2. é¢˜è§£

åˆ©ç”¨è¾…åŠ©**æ ˆ**å®ç°åŒ¹é…ã€‚é‡åˆ°å·¦æ‹¬å·å°±å‹æ ˆï¼Œé‡åˆ°å³æ‹¬å·å°±å¼¹æ ˆï¼Œä¸”éœ€è¦çœ‹å¼¹å‡ºçš„æ ˆæ˜¯å¦åŒ¹é…ï¼Œæœ€åçœ‹æ ˆæ˜¯å¦ç©ºå³å¯ã€‚

```java
public boolean isValid(String s) {
    Stack<Character> stack = new Stack<>();
    // éå†è¿™ä¸ªå­—ç¬¦ä¸²
    for (char c : s.toCharArray()) {
        // é‡åˆ°è§„å®šçš„ç¬¦å·å°±å‹æ ˆ
        if (c == '(' || c == '{' || c == '[') {
            stack.push(c);
            // è¡¨ç¤ºé‡åˆ°é—­æ‹¬å·
        } else {
            // å¦‚æœæ­¤æ—¶æ ˆä¸ºç©ºç›´æ¥ä¸ºfalse
            if (stack.isEmpty()) {
                return false;
            }
            // å¼¹å‡ºæ ˆé¡¶ç¬¦å·
            char temp = stack.pop();
            // å¼¹å‡ºçš„å·¦æ‹¬å·å¿…é¡»å®Œå…¨åŒ¹é…å½“å‰å³æ‹¬å·æ‰è¡Œ
            boolean b1 = c == ')' && temp != '(';
            boolean b2 = c == ']' && temp != '[';
            boolean b3 = c == '}' && temp != '{';
            if (b1 || b2 || b3) {
                return false;
            }
        }
    }
    // æœ€åçœ‹æ ˆæ˜¯å¦ä¸ºç©º
    return stack.isEmpty();
}
```



#### åˆ¤æ–­æ•°ç»„æ˜¯å¦æ˜¯æ ˆçš„å‹å…¥å¼¹å‡ºåºåˆ—ã€946ä¸­ç­‰ã€‘

##### 1. é¢˜ç›®

è¾“å…¥ä¸¤ä¸ªæ•´æ•°åºåˆ—ï¼Œç¬¬ä¸€ä¸ªåºåˆ—è¡¨ç¤ºæ ˆçš„**å‹å…¥é¡ºåº**ï¼Œè¯·åˆ¤æ–­ç¬¬äºŒä¸ªåºåˆ—æ˜¯å¦å¯èƒ½ä¸ºè¯¥æ ˆçš„**å¼¹å‡ºé¡ºåº**ã€‚å‡è®¾å‹å…¥æ ˆçš„æ‰€æœ‰æ•°å­—å‡ä¸ç›¸ç­‰ã€‚ä¾‹å¦‚åºåˆ—1, 2, 3, 4, 5æ˜¯æŸæ ˆçš„å‹å…¥é¡ºåºï¼Œåºåˆ—4, 5, 3, 2, 1æ˜¯è¯¥å‹æ ˆåºåˆ—å¯¹åº”çš„ä¸€ä¸ªå¼¹å‡ºåºåˆ—ï¼Œä½† 4,3,5,1,2å°±ä¸å¯èƒ½æ˜¯è¯¥å‹æ ˆåºåˆ—çš„å¼¹å‡ºåºåˆ—ã€‚ï¼ˆæ³¨æ„ï¼šè¿™ä¸¤ä¸ªåºåˆ—çš„é•¿åº¦æ˜¯ç›¸ç­‰çš„ï¼‰

é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/validate-stack-sequences/submissions/

##### 2. é¢˜è§£

###### (1) è¾…åŠ©æ ˆæ³•(è´ªå¿ƒ)

**åˆ†æ**ï¼šå€ŸåŠ©ä¸€ä¸ª**è¾…åŠ©æ ˆè¿›è¡Œæ¨¡æ‹Ÿ**ï¼Œéå†å‹æ ˆåºåˆ—ï¼Œå…ˆå°†ç¬¬ä¸€ä¸ªå…ƒç´ æ”¾åœ¨æ ˆä¸­ï¼Œè¿™é‡Œæ˜¯ 1ï¼Œç„¶ååˆ¤æ–­**æ ˆé¡¶å…ƒç´ **æ˜¯ä¸æ˜¯**å‡ºæ ˆåºåˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´ **ï¼Œè¿™é‡Œ 1â‰ 4ï¼Œæ‰€ä»¥**ç»§ç»­å‹æ ˆ**ï¼Œç›´åˆ°**ç›¸ç­‰ä¹‹åå¼€å§‹å‡ºæ ˆ**ï¼Œå‡ºæ ˆä¸€ä¸ªå…ƒç´ ï¼Œå¯¹äºå‡ºæ ˆåºåˆ—**å‘åç§»åŠ¨ä¸€ä½**ï¼Œç›´åˆ°**ä¸ç›¸ç­‰**ï¼Œè¿™æ ·å¾ªç¯ç­‰å‹æ ˆé¡ºåºéå†å®Œæˆï¼Œå¦‚æœè¾…åŠ©æ ˆè¿˜**ä¸ä¸ºç©º**ï¼Œè¯´æ˜å¼¹å‡ºåºåˆ—**ä¸æ˜¯**è¯¥æ ˆçš„å¼¹å‡ºé¡ºåºã€‚

**ä¸¾ä¾‹**ï¼šå…¥æ ˆ 1, 2, 3, 4, 5ï¼Œå‡ºæ ˆ 4, 5, 3, 2, 1ã€‚é¦–å…ˆ 1 å…¥è¾…åŠ©æ ˆï¼Œæ­¤æ—¶æ ˆé¡¶ 1â‰ 4ï¼Œç»§ç»­å…¥æ ˆ 2ã€‚æ­¤æ—¶æ ˆé¡¶ 2 â‰  4ï¼Œç»§ç»­å…¥æ ˆ 3ã€‚æ­¤æ—¶æ ˆé¡¶ 3 â‰  4ï¼Œç»§ç»­å…¥æ ˆ 4 ã€‚æ­¤æ—¶æ ˆé¡¶ 4ï¼4ï¼Œå‡ºæ ˆ 4ï¼Œå¼¹å‡ºåºåˆ—å‘åä¸€ä½ï¼Œæ­¤æ—¶ä¸º 5ï¼Œè¾…åŠ©æ ˆé‡Œé¢æ˜¯ 1, 2, 3ã€‚æ­¤æ—¶æ ˆé¡¶3  â‰  5ï¼Œç»§ç»­å…¥æ ˆ 5ã€‚æ­¤æ—¶æ ˆé¡¶ 5 = 5ï¼Œå‡ºæ ˆ 5ï¼Œå¼¹å‡ºåºåˆ—å‘åä¸€ä½ï¼Œæ­¤æ—¶ä¸º 3ï¼Œè¾…åŠ©æ ˆé‡Œé¢æ˜¯ 1ï¼Œ2ï¼Œ3ã€‚

```java
public boolean validateStackSequences(int[] pushArray, int[] popArray) {
    // Base case
    if (popArray.length == 0 || pushArray.length == 0) return true;
    // ä½¿ç”¨è¾…åŠ©æ ˆ
    Stack<Integer> stack = new Stack<>();
    // å‡ºæ ˆæ•°ç»„æŒ‡é’ˆæŒ‡å‘é¦–ä½
    int popIndex = 0;
    // éå†å‹æ ˆåºåˆ—
    for (int i = 0; i < pushArray.length; i++) {
        // ä¸æ–­å°†å…¥æ ˆæ•°ç»„å‹æ ˆ
        stack.push(pushArray[i]);
        // å…¥æ ˆååˆ¤æ–­æ˜¯å¦æ˜¯ä¸ºç©ºæˆ–è€…æ ˆé¡¶å…ƒç´ æ˜¯å¦æ˜¯ç­‰äºå‡ºæ ˆæ•°ç»„ç´¢å¼•å¤„çš„å€¼
        while (!stack.isEmpty() && stack.peek() == popArray[popIndex]) {
            // å¼¹å‡ºå…ƒç´ 
            stack.pop();
            // å‡ºæ ˆåºåˆ—æŒ‡é’ˆåç§»
            popIndex++;
        }
    }
    // æœ€ååªéœ€è¦åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©ºå°±è¡Œäº†
    return stack.isEmpty();
}
```

###### (2) æ•°ç»„æ¨¡æ‹Ÿæ³•

ä½¿ç”¨æ•°ç»„æ¥å®ç°æ ˆçš„ä½œç”¨ï¼Œ**æ¨¡æ‹Ÿæ ˆçš„å‡ºæ ˆå…¥æ ˆæ“ä½œ**ã€‚size è¡¨ç¤ºæ ˆçš„å¤§å°ï¼Œsize - 1 å°±æ˜¯**æ ˆé¡¶**çš„ä½ç½®äº†ã€‚

æ³¨æ„ï¼šç”¨**æ•°ç»„**æ¥å®ç°æ ˆï¼Œè™½ç„¶å­˜å–æ›´å¿«ï¼Œä½†å¤šæ•°æƒ…å†µä¸‹å…¶å®ä¸æ¨èã€‚ç‰¹åˆ«æ˜¯æ•°ç»„ pushed å¯èƒ½ç‰¹åˆ«å¤§çš„æ—¶å€™ï¼Œé‚£ä½œä¸ºæ ˆçš„æ•°ç»„ stack ä¹Ÿä¼šç‰¹åˆ«å¤§ã€‚ä½†å®é™…ä¸ŠåŒæ—¶å­˜åœ¨æ ˆä¸­çš„å…ƒç´ å¾€å¾€ä¸æ˜¯ç‰¹åˆ«å¤šï¼Œè¿™å°±å­˜åœ¨å¾ˆå¤§çš„æµªè´¹äº†ã€‚

```java
public boolean validateStackSequences2(int[] pushArray, int[] popArray) {
    int[] stack = new int[pushArray.length];
    int size = 0;
    for (int i = 0, j = 0; i < pushArray.length; i++) {
        stack[size++] = pushArray[i];
        while (size != 0 && stack[size - 1] == popArray[j]) {
            size--;j++;
        }
    }
    return size == 0;
}
```

#### ğŸ’¯æœ€å°å€¼æ ˆ

##### 1. é¢˜ç›®

è®¾è®¡ä¸€ä¸ªæ”¯æŒ push ï¼Œpop ï¼Œtop æ“ä½œï¼Œå¹¶èƒ½åœ¨å¸¸æ•°æ—¶é—´å†…æ£€ç´¢åˆ°æœ€å°å…ƒç´ çš„æ ˆã€‚

- push(x) â€”â€” å°†å…ƒç´  x æ¨å…¥æ ˆä¸­ã€‚
- pop() â€”â€” åˆ é™¤æ ˆé¡¶çš„å…ƒç´ ã€‚
- top() â€”â€” è·å–æ ˆé¡¶å…ƒç´ ã€‚
- getMin() â€”â€” **æ£€ç´¢æ ˆä¸­çš„æœ€å°å…ƒç´ **ã€‚

é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/min-stack

##### 2. é¢˜è§£

###### (1) è¾…åŠ©æ ˆæ³•

å€Ÿç”¨ä¸€ä¸ªè¾…åŠ©æ ˆ **minStack**ï¼Œç”¨äºå­˜å‚¨è·å– stack ä¸­**æœ€å°å€¼**ã€‚

- push() æ–¹æ³•ï¼š æ¯å½“ push() æ–°å€¼è¿›æ¥æ—¶ï¼Œå¦‚æœ **å°äºç­‰äº minStack** æ ˆé¡¶å€¼ï¼Œåˆ™**ä¸€èµ· push()** åˆ° minStackï¼Œå³æ›´æ–°äº†æ ˆé¡¶æœ€å°å€¼ï¼›
- pop()æ–¹æ³•ï¼š åˆ¤æ–­å°† pop() å‡ºå»çš„å…ƒç´ å€¼**æ˜¯å¦æ˜¯ minStack æ ˆé¡¶å…ƒç´ å€¼**ï¼ˆå³æœ€å°å€¼ï¼‰ï¼Œå¦‚æœæ˜¯åˆ™å°† minStack æ ˆé¡¶å…ƒç´ **ä¸€èµ· pop()**ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ minStack æ ˆé¡¶å…ƒç´ å§‹ç»ˆæ˜¯ stack ä¸­çš„æœ€å°å€¼ã€‚
- getMin() æ–¹æ³•ï¼š è¿”å› minStack **æ ˆé¡¶**å³å¯ã€‚

minStack ä½œç”¨åˆ†æï¼šminStack ç­‰ä»·äº**éå†** stack æ‰€æœ‰å…ƒç´ ï¼ŒæŠŠå‡åºçš„æ•°å­—éƒ½åˆ é™¤æ‰ï¼Œç•™ä¸‹ä¸€ä¸ªä»**æ ˆåº•åˆ°æ ˆé¡¶é™åº**çš„æ ˆã€‚ç›¸å½“äºç»™ stack ä¸­çš„é™åºå…ƒç´ åšäº†æ ‡è®°ï¼Œæ¯å½“ pop() è¿™äº›é™åºå…ƒç´ ï¼ŒminStack ä¼šå°†ç›¸åº”çš„æ ˆé¡¶å…ƒç´  pop() å‡ºå»ï¼Œä¿è¯å…¶æ ˆé¡¶å…ƒç´ å§‹ç»ˆæ˜¯ stack ä¸­çš„æœ€å°å…ƒç´ ã€‚

```java
private Stack<Integer> dataStack = new Stack<>();
private Stack<Integer> minStack = new Stack<>();

public void push(int data) {
    // æ•°æ®éƒ½è¦å‹å…¥æ™®é€šæ ˆ
    dataStack.push(data);
    // å¦‚æœæ–°å€¼å°äºæœ€å°å€¼æ ˆçš„æ ˆé¡¶å°±åŒæ—¶å‹å…¥æœ€å°å€¼æ ˆ
    if(minStack.isEmpty() || data <= minStack.peek()) {
        minStack.push(data);
    }
}

public void pop() {
    // å¦‚æœå¼¹å‡ºçš„å…ƒç´ ç­‰äºæœ€å°å€¼æ ˆçš„æ ˆé¡¶ï¼Œåˆ™åŒæ—¶å¼¹å‡º
    if(dataStack.pop().equals(minStack.peek())) {
        minStack.pop();
    }
}

public int top() {
    return dataStack.peek();
}
public int getMin() {
    return minStack.peek();
}
```

å¯¹äºå®ç°**æœ€å°å€¼é˜Ÿåˆ—**é—®é¢˜ï¼Œå¯ä»¥**å…ˆå°†é˜Ÿåˆ—ä½¿ç”¨æ ˆ**æ¥å®ç°ï¼Œç„¶åå°±å°†é—®é¢˜è½¬æ¢ä¸ºæœ€å°å€¼æ ˆï¼Œè¿™ä¸ªé—®é¢˜å‡ºç°åœ¨ ç¼–ç¨‹ä¹‹ç¾ï¼š3.7ã€‚**æœ€å¤§å€¼æ ˆ**å…¶å®ä¹Ÿæ˜¯ç±»ä¼¼çš„è§£æ³•ã€‚



### å•è°ƒæ ˆç±»é¢˜ç›®

#### æ•°ç»„ä¸­å…ƒç´ ä¸ä¸‹ä¸€ä¸ªæ¯”å®ƒå¤§çš„å…ƒç´ ä¹‹é—´çš„è·ç¦»ã€739ä¸­ç­‰ã€‘

##### 1. é¢˜ç›®

è¯·æ ¹æ®æ¯æ—¥ æ°”æ¸© åˆ—è¡¨ï¼Œé‡æ–°ç”Ÿæˆä¸€ä¸ªåˆ—è¡¨ã€‚å¯¹åº”ä½ç½®çš„è¾“å‡ºä¸ºï¼šè¦æƒ³è§‚æµ‹åˆ°**æ›´é«˜**çš„æ°”æ¸©ï¼Œè‡³å°‘éœ€è¦**ç­‰å¾…çš„å¤©æ•°**ã€‚å¦‚æœæ°”æ¸©åœ¨è¿™ä¹‹åéƒ½ä¸ä¼šå‡é«˜ï¼Œè¯·åœ¨è¯¥ä½ç½®ç”¨ **0** æ¥ä»£æ›¿ã€‚

ä¾‹å¦‚ï¼Œç»™å®šä¸€ä¸ªåˆ—è¡¨ temperatures = [73, 74, 75, 71, 69, 72, 76, 73]ï¼Œä½ çš„è¾“å‡ºåº”è¯¥æ˜¯ [1, 1, 4, 2, 1, 1, 0, 0]ã€‚

```html
Input: [73, 74, 75, 71, 69, 72, 76, 73]
Output: [1, 1, 4, 2, 1, 1, 0, 0]
```

é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/daily-temperatures

##### 2. é¢˜è§£

###### (1) å•è°ƒæ ˆæ³•

åœ¨éå†æ•°ç»„æ—¶ç”¨**æ ˆæŠŠæ•°ç»„ä¸­çš„æ•°å­˜**èµ·æ¥ï¼Œå¦‚æœ**å½“å‰éå†çš„æ•°æ¯”æ ˆé¡¶å…ƒç´ æ¥çš„å¤§**ï¼Œè¯´æ˜**æ ˆé¡¶å…ƒç´ çš„ä¸‹ä¸€ä¸ªæ¯”å®ƒå¤§çš„æ•°**å°±æ˜¯å½“å‰å…ƒç´ ã€‚å¯ä»¥ç»´æŠ¤ä¸€ä¸ª**å­˜å‚¨ä¸‹æ ‡çš„å•è°ƒæ ˆ**ï¼Œä»**æ ˆåº•åˆ°æ ˆé¡¶çš„ä¸‹æ ‡å¯¹åº”çš„æ¸©åº¦åˆ—è¡¨ä¸­çš„æ¸©åº¦ä¾æ¬¡é€’å‡**ã€‚å¦‚æœä¸€ä¸ª**ä¸‹æ ‡åœ¨å•è°ƒæ ˆé‡Œ**ï¼Œåˆ™è¡¨ç¤º**å°šæœªæ‰¾åˆ°ä¸‹ä¸€æ¬¡æ¸©åº¦æ›´é«˜çš„ä¸‹æ ‡**ã€‚

**æ­£å‘éå†**æ¸©åº¦åˆ—è¡¨ã€‚å¯¹äºæ¸©åº¦åˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´  temperatures[i]ï¼Œå¦‚æœæ ˆä¸ºç©ºï¼Œåˆ™ç›´æ¥å°† i è¿›æ ˆï¼Œå¦‚æœæ ˆä¸ä¸ºç©ºï¼Œåˆ™æ¯”è¾ƒæ ˆé¡¶å…ƒç´  prevIndex å¯¹åº”çš„æ¸©åº¦ temperatures[prevIndex] å’Œå½“å‰æ¸©åº¦ temperatures[i]ï¼Œå¦‚æœ temperatures[i] > temperatures[prevIndex]ï¼Œåˆ™å°† prevIndex ç§»é™¤ï¼Œå¹¶å°† prevIndex å¯¹åº”çš„ç­‰å¾…å¤©æ•°èµ‹ä¸º i - prevIndexï¼Œé‡å¤ä¸Šè¿°æ“ä½œç›´åˆ°æ ˆä¸ºç©ºæˆ–è€…æ ˆé¡¶å…ƒç´ å¯¹åº”çš„æ¸©åº¦å°äºç­‰äºå½“å‰æ¸©åº¦ï¼Œç„¶åå°† i è¿›æ ˆã€‚

```java
public int[] dailyTemperatures(int[] temp) {
    int len = temp.length;
    int[] res = new int[len];
    // è¾…åŠ©æ ˆ
    Stack<Integer> stack = new Stack<>();
    for (int i = 0; i < len; i++) {
        // å½“å‰éå†çš„æ•°æ¯”æ ˆé¡¶å…ƒç´ å¤§
        while (!stack.isEmpty() && temp[i] > temp[stack.peek()]) {
            // æ ˆé¡¶å…ƒç´ çš„ä¸‹ä¸€ä¸ªæ¯”å®ƒå¤§çš„æ•°å°±æ˜¯å½“å‰å…ƒç´ 
            int preIndex = stack.pop();
            res[preIndex] = i - preIndex;
        }
        // æŒç»­å‹å…¥æ ˆ
        stack.add(i);
    }
    return res;
}
```

#### ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ã€496ç®€å•ã€‘

##### 1. é¢˜ç›®

ç»™å®šä¸¤ä¸ª æ²¡æœ‰é‡å¤å…ƒç´  çš„æ•°ç»„ nums1 å’Œ nums2 ï¼Œå…¶ä¸­ nums1 æ˜¯ nums2 çš„**å­é›†**ã€‚æ‰¾åˆ° nums1 ä¸­æ¯ä¸ªå…ƒç´ åœ¨ nums2  ä¸­çš„ä¸‹ä¸€ä¸ªæ¯”å…¶å¤§çš„å€¼ã€‚

nums1 ä¸­æ•°å­— x çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ æ˜¯æŒ‡ x åœ¨ nums2 ä¸­å¯¹åº”ä½ç½®çš„å³è¾¹çš„ç¬¬ä¸€ä¸ªæ¯” x å¤§çš„å…ƒç´ ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œå¯¹åº”ä½ç½®è¾“å‡º -1 ã€‚

```java
ç¤ºä¾‹ 1:
è¾“å…¥: nums1 = [4,1,2], nums2 = [1,3,4,2].
è¾“å‡º: [-1,3,-1]
è§£é‡Š:
    å¯¹äºnum1ä¸­çš„æ•°å­—4ï¼Œä½ æ— æ³•åœ¨ç¬¬äºŒä¸ªæ•°ç»„ä¸­æ‰¾åˆ°ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°å­—ï¼Œå› æ­¤è¾“å‡º -1ã€‚
    å¯¹äºnum1ä¸­çš„æ•°å­—1ï¼Œç¬¬äºŒä¸ªæ•°ç»„ä¸­æ•°å­—1å³è¾¹çš„ä¸‹ä¸€ä¸ªè¾ƒå¤§æ•°å­—æ˜¯ 3ã€‚
    å¯¹äºnum1ä¸­çš„æ•°å­—2ï¼Œç¬¬äºŒä¸ªæ•°ç»„ä¸­æ²¡æœ‰ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°å­—ï¼Œå› æ­¤è¾“å‡º -1ã€‚
ç¤ºä¾‹ 2:
è¾“å…¥: nums1 = [2,4], nums2 = [1,2,3,4].
è¾“å‡º: [3,-1]
```

é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/next-greater-element-i

##### 2. é¢˜è§£

è¿™ä¸ªé¢˜æ˜¯ä¸Šä¸ªé¢˜çš„å‡çº§ç‰ˆæœ¬ï¼Œå¯»æ‰¾çš„æ•°å­—æ›´å¤šè€Œå·²ã€‚

###### (1) å•è°ƒæ ˆæ³•

å¯ä»¥å¿½ç•¥æ•°ç»„ nums1ï¼Œå…ˆå¯¹å°† nums2 ä¸­çš„**æ¯ä¸€ä¸ªå…ƒç´ **ï¼Œæ±‚å‡ºå…¶**ä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ **ã€‚éšåå¯¹äºå°†è¿™äº›ç­”æ¡ˆæ”¾å…¥**å“ˆå¸Œæ˜ å°„ï¼ˆHashMapï¼‰ä¸­**ï¼Œå†éå†æ•°ç»„ nums1ï¼Œå¹¶**ç›´æ¥æ‰¾å‡ºç­”æ¡ˆ**ã€‚å¯¹äº nums2ï¼Œå¯ä»¥ä½¿ç”¨**å•è°ƒæ ˆ**æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

é¦–å…ˆæŠŠç¬¬ä¸€ä¸ªå…ƒç´  nums2[1] **æ”¾å…¥æ ˆ**ï¼Œéšåå¯¹äºç¬¬äºŒä¸ªå…ƒç´  nums2[2]ï¼Œå¦‚æœ nums2[2] > nums2[1]ï¼Œé‚£ä¹ˆå°±**æ‰¾åˆ°äº†** nums2[1] çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  nums2[2]ï¼Œæ­¤æ—¶å°±å¯ä»¥æŠŠ nums2[1] **å‡ºæ ˆ**å¹¶æŠŠ nums2[2] **å…¥æ ˆ**ï¼›å¦‚æœ nums2[2] <= nums2[1]ï¼Œå°±ä»…æŠŠ nums2[2] å…¥æ ˆã€‚å¯¹äºç¬¬ä¸‰ä¸ªå…ƒç´  nums2[3]ï¼Œæ­¤æ—¶æ ˆä¸­æœ‰è‹¥å¹²ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆæ‰€æœ‰æ¯” nums2[3] å°çš„å…ƒç´ éƒ½æ‰¾åˆ°äº†ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼ˆå³ nums2[3]ï¼‰ï¼Œå› æ­¤å¯ä»¥å‡ºæ ˆï¼Œåœ¨è¿™ä¹‹åï¼Œå°† nums2[3] å…¥æ ˆï¼Œä»¥æ­¤ç±»æ¨ã€‚

å¯ä»¥å‘ç°ï¼Œç»´æŠ¤äº†ä¸€ä¸ª**å•è°ƒæ ˆ**ï¼Œæ ˆä¸­çš„å…ƒç´ **ä»æ ˆé¡¶åˆ°æ ˆåº•æ˜¯å•è°ƒä¸é™**çš„ã€‚å½“é‡åˆ°ä¸€ä¸ªæ–°çš„å…ƒç´  nums2[i] æ—¶ï¼Œåˆ¤æ–­æ ˆé¡¶å…ƒç´ **æ˜¯å¦å°äº** nums2[i]ï¼Œå¦‚æœæ˜¯ï¼Œé‚£ä¹ˆæ ˆé¡¶å…ƒç´ çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ å³ä¸º nums2[i]ï¼Œå°†æ ˆé¡¶å…ƒç´ å‡ºæ ˆã€‚é‡å¤è¿™ä¸€æ“ä½œï¼Œç›´åˆ°æ ˆä¸ºç©ºæˆ–è€…æ ˆé¡¶å…ƒç´ å¤§äº nums2[i]ã€‚æ­¤æ—¶å°† nums2[i] å…¥æ ˆï¼Œä¿æŒæ ˆçš„å•è°ƒæ€§ï¼Œå¹¶å¯¹æ¥ä¸‹æ¥çš„ nums2[i + 1], nums2[i + 2] ... æ‰§è¡ŒåŒæ ·çš„æ“ä½œã€‚

```java
public int[] nextGreaterElement(int[] nums1, int[] nums2) {
    Stack<Integer> stack = new Stack<>();
    HashMap<Integer, Integer> map = new HashMap<>();
    int[] res = new int[nums1.length];
    for (int i = 0; i < nums2.length; i++) {
        //
        while (!stack.empty() && nums2[i] > stack.peek())
            map.put(stack.pop(), nums2[i]);
        stack.push(nums2[i]);
    }
    while (!stack.empty())
        map.put(stack.pop(), -1);
    for (int i = 0; i < nums1.length; i++) {
        res[i] = map.get(nums1[i]);
    }
    return res;
}
```

#### å¾ªç¯æ•°ç»„ä¸­æ¯”å½“å‰å…ƒç´ å¤§çš„ä¸‹ä¸€ä¸ªå…ƒç´ ã€503ä¸­ç­‰ã€‘

##### 1. é¢˜ç›®

ç»™å®šä¸€ä¸ªå¾ªç¯æ•°ç»„ï¼ˆæœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ æ˜¯æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¾“å‡ºæ¯ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ã€‚æ•°å­— x çš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ æ˜¯æŒ‰æ•°ç»„éå†é¡ºåºï¼Œè¿™ä¸ªæ•°å­—ä¹‹åçš„ç¬¬ä¸€ä¸ªæ¯”å®ƒæ›´å¤§çš„æ•°ï¼Œè¿™æ„å‘³ç€ä½ åº”è¯¥å¾ªç¯åœ°æœç´¢å®ƒçš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¾“å‡º -1ã€‚

```java
è¾“å…¥: [1,2,1]
è¾“å‡º: [2,-1,2]
è§£é‡Š: ç¬¬ä¸€ä¸ª 1 çš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°æ˜¯ 2ï¼›æ•°å­— 2 æ‰¾ä¸åˆ°ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°ï¼› ç¬¬äºŒä¸ª 1 çš„ä¸‹ä¸€ä¸ªæœ€å¤§çš„æ•°éœ€è¦å¾ªç¯æœç´¢ï¼Œç»“æœä¹Ÿæ˜¯ 2ã€‚
```

é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/next-greater-element-ii

##### 2. é¢˜è§£

###### (1) å•è°ƒæ ˆæ³•

é¦–å…ˆæŠŠç¬¬ä¸€ä¸ªå…ƒç´  A[1] æ”¾å…¥æ ˆï¼Œéšåå¯¹äºç¬¬äºŒä¸ªå…ƒç´  A[2]ï¼Œå¦‚æœ **A[2] > A[1]**ï¼Œé‚£ä¹ˆå°±æ‰¾åˆ°äº† A[1] çš„**ä¸‹ä¸€ä¸ªæ›´å¤§**å…ƒç´  A[2]ï¼Œæ­¤æ—¶å°±å¯ä»¥æŠŠ A[1] **å‡ºæ ˆ**å¹¶æŠŠ A[2] **å…¥æ ˆ**ï¼›å¦‚æœ A[2] <= A[1]ï¼Œå°±**ä»…æŠŠ A[2] å…¥æ ˆ**ã€‚å¯¹äºç¬¬ä¸‰ä¸ªå…ƒç´  A[3]ï¼Œæ­¤æ—¶æ ˆä¸­æœ‰**è‹¥å¹²ä¸ª**å…ƒç´ ï¼Œé‚£ä¹ˆæ‰€æœ‰æ¯” A[3] å°çš„å…ƒç´ éƒ½æ‰¾åˆ°äº†ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼ˆå³ A[3]ï¼‰ï¼Œå› æ­¤å¯ä»¥**å‡ºæ ˆ**ï¼Œåœ¨è¿™ä¹‹åï¼Œå°† A[3] å…¥æ ˆï¼Œä»¥æ­¤ç±»æ¨ã€‚

ç»´æŠ¤äº†ä¸€ä¸ªå•è°ƒæ ˆï¼Œæ ˆä¸­çš„å…ƒç´ ä»æ ˆé¡¶åˆ°æ ˆåº•æ˜¯**å•è°ƒä¸é™**çš„ã€‚å½“é‡åˆ°ä¸€ä¸ªæ–°çš„å…ƒç´  A[i] æ—¶ï¼Œåˆ¤æ–­æ ˆé¡¶å…ƒç´ æ˜¯å¦å°äº A[i]ï¼Œå¦‚æœæ˜¯ï¼Œé‚£ä¹ˆæ ˆé¡¶å…ƒç´ çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ å³ä¸º A[i]ï¼Œå°†æ ˆé¡¶å…ƒç´ å‡ºæ ˆã€‚é‡å¤è¿™ä¸€æ“ä½œï¼Œç›´åˆ°æ ˆä¸ºç©ºæˆ–è€…æ ˆé¡¶å…ƒç´ å¤§äº A[i]ã€‚æ­¤æ—¶å°† A[i] å…¥æ ˆï¼Œä¿æŒæ ˆçš„å•è°ƒæ€§ï¼Œå¹¶å¯¹æ¥ä¸‹æ¥çš„ A[i + 1], A[i + 2] ... æ‰§è¡ŒåŒæ ·çš„æ“ä½œã€‚

ç”±äºè¿™é“é¢˜çš„æ•°ç»„æ˜¯**å¾ªç¯æ•°ç»„**ï¼Œå› æ­¤éœ€è¦å°†**æ¯ä¸ªå…ƒç´ éƒ½å…¥æ ˆä¸¤æ¬¡**ã€‚è¿™æ ·å¯èƒ½ä¼šæœ‰å…ƒç´ å‡ºæ ˆæ‰¾è¿‡ä¸€æ¬¡ï¼Œå³å¾—åˆ°äº†è¶…è¿‡ä¸€ä¸ªâ€œä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ â€ï¼Œåªéœ€è¦ä¿ç•™ç¬¬ä¸€ä¸ªå‡ºæ ˆçš„ç»“æœå³å¯ã€‚

```java
public int[] nextGreaterElements(int[] nums) {
    int n = nums.length;
    int[] next = new int[n];
    Arrays.fill(next, -1);
    Stack<Integer> pre = new Stack<>();
    for (int i = 0; i < n * 2; i++) {
        int num = nums[i % n];
        while (!pre.isEmpty() && nums[pre.peek()] < num) {
            next[pre.pop()] = num;
        }
        if (i < n){
            pre.push(i);
        }
    }
    return next;
}
```













